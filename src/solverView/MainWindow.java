/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package solverView;

import java.awt.Component;
import java.awt.Container;
import java.awt.Image;
import java.beans.PropertyChangeEvent;
import java.beans.PropertyChangeListener;
import java.beans.PropertyChangeSupport;
import java.io.File;
import java.io.FileInputStream;
import java.io.IOException;
import java.io.OutputStream;
import java.io.PrintStream;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.util.ArrayList;
import java.util.List;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.imageio.ImageIO;
import javax.swing.DefaultListModel;
import javax.swing.JFileChooser;
import javax.swing.JProgressBar;
import javax.swing.SwingUtilities;
import javax.swing.SwingWorker;
import javax.swing.ToolTipManager;
import solverController.ALNSPropertiesBean;
import solverController.Controller;
import solverController.OptimizationStatusMessage;
import solverController.ParametersBean;

/**
 *
 * @author Frash
 */
public class MainWindow extends javax.swing.JFrame {

    /**
     * Pointer to the controller task at hand
     */
    private Controller controllerTask = null;

    /**
     * Creates new form MainWindow
     */
    public MainWindow() {
        initComponents();
        
        // Redirecting all System Streams to jTextAreaOutput (virtual console)
        redirectSystemStreams();
        
        // Adding a binding listener to keep track of binding or validation errors
        bindingGroup.addBindingListener(new ErrorBindingListener(jDialogError, jLabelErrorMessage));
        
        // Setup a smart scroller on the output text area
        new SmartScroller(jScrollPaneTextAreaOutput);
        
        // Speeding up scrollers
        jScrollPaneALNS.getVerticalScrollBar().setUnitIncrement(16);
        jScrollPaneIMIPS.getVerticalScrollBar().setUnitIncrement(16);
        
        // Show Deprecated tools window
        jDialogDeprecatedOptions.setVisible(true);
    }
    
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {
        java.awt.GridBagConstraints gridBagConstraints;
        bindingGroup = new org.jdesktop.beansbinding.BindingGroup();

        buttonGroupSolver = new javax.swing.ButtonGroup();
        buttonGroupInstance = new javax.swing.ButtonGroup();
        jFileChooserInstances = new javax.swing.JFileChooser();
        buttonGroupActions = new javax.swing.ButtonGroup();
        jTextField19 = new javax.swing.JTextField();
        jFileChooserOutputFolderPath = new javax.swing.JFileChooser();
        orienteeringPropertiesBean = new solverController.OrienteeringPropertiesBean();
        alnsPropertiesBean = new solverController.ALNSPropertiesBean();
        jFileChooserLoadParameters = new javax.swing.JFileChooser();
        jFileChooserSaveParameters = new javax.swing.JFileChooser();
        jFileChooserSaveOutput = new javax.swing.JFileChooser();
        parametersBean = new solverController.ParametersBean();
        pathCacheBean = new solverView.PathCacheBean();
        jFileChooserWorkingDirectory = new javax.swing.JFileChooser();
        doubleConverter1 = new solverView.DoubleConverter();
        jDialogError = new javax.swing.JDialog();
        jLabelErrorMessage = new javax.swing.JLabel();
        jButtonErrorOk = new javax.swing.JButton();
        jLabelErrorIcon = new javax.swing.JLabel();
        jDialogDeprecatedOptions = new javax.swing.JDialog();
        jPanelSolver = new javax.swing.JPanel();
        jRadioButtonMIPS = new javax.swing.JRadioButton();
        jRadioButtonRelaxed = new javax.swing.JRadioButton();
        jRadioButtonALNS = new javax.swing.JRadioButton();
        jPanelActions = new javax.swing.JPanel();
        jButtonSaveParameters = new javax.swing.JButton();
        jButtonLoadParameters = new javax.swing.JButton();
        jButtonRun = new javax.swing.JButton();
        jButtonTestBean = new javax.swing.JButton();
        jButton1 = new javax.swing.JButton();
        jDialogConfirmStop = new javax.swing.JDialog();
        jPanel6 = new javax.swing.JPanel();
        jLabel17 = new javax.swing.JLabel();
        jLabel29 = new javax.swing.JLabel();
        filler4 = new javax.swing.Box.Filler(new java.awt.Dimension(0, 15), new java.awt.Dimension(0, 15), new java.awt.Dimension(32767, 15));
        jPanel7 = new javax.swing.JPanel();
        jButtonYesStop = new javax.swing.JButton();
        jButtonNoStop = new javax.swing.JButton();
        jLabel1 = new javax.swing.JLabel();
        jPanelMain = new javax.swing.JPanel();
        jSplitPane2 = new javax.swing.JSplitPane();
        jPanelControls = new javax.swing.JPanel();
        jSplitPane1 = new javax.swing.JSplitPane();
        jPanelnstances = new javax.swing.JPanel();
        jScrollPane2 = new javax.swing.JScrollPane();
        jListInstances = new javax.swing.JList<>();
        jPanelInstancesButtons = new javax.swing.JPanel();
        btnAddInstance = new javax.swing.JButton();
        btnRemoveInstance = new javax.swing.JButton();
        btnMoveInstanceUp = new javax.swing.JButton();
        btnMoveInstanceDown = new javax.swing.JButton();
        filler3 = new javax.swing.Box.Filler(new java.awt.Dimension(5, 0), new java.awt.Dimension(5, 0), new java.awt.Dimension(5, 32767));
        jPanelSolversEnvelope = new javax.swing.JPanel();
        jTabbedPaneSolvers = new javax.swing.JTabbedPane();
        jPanelMIPS = new javax.swing.JPanel();
        jScrollPaneIMIPS = new javax.swing.JScrollPane();
        jPanel5 = new javax.swing.JPanel();
        jPanelMIPSActions = new javax.swing.JPanel();
        jButtonRunMIPS = new javax.swing.JButton();
        jButtonLoadParametersMIPS = new javax.swing.JButton();
        jButtonSaveParametersMIPS = new javax.swing.JButton();
        jPanelMIPSParameters = new javax.swing.JPanel();
        jLabelOutputFolderPath1 = new javax.swing.JLabel();
        jTextFieldOutputFolderPath1 = new javax.swing.JTextField();
        jButtonOutputFolderPath1 = new javax.swing.JButton();
        jLabel26 = new javax.swing.JLabel();
        jTextFieldTimeLimit1 = new javax.swing.JTextField();
        jLabel27 = new javax.swing.JLabel();
        jTextFieldNumThreads1 = new javax.swing.JTextField();
        jCheckBoxForceHeuristicConstraints1 = new javax.swing.JCheckBox();
        jLabel3 = new javax.swing.JLabel();
        jPanelALNS = new javax.swing.JPanel();
        jScrollPaneALNS = new javax.swing.JScrollPane();
        jPanel2 = new javax.swing.JPanel();
        jPanelALNSActions = new javax.swing.JPanel();
        jButtonRunALNS = new javax.swing.JButton();
        jButtonLoadParametersALNS = new javax.swing.JButton();
        jButtonSaveParametersALNS = new javax.swing.JButton();
        filler1 = new javax.swing.Box.Filler(new java.awt.Dimension(0, 5), new java.awt.Dimension(0, 5), new java.awt.Dimension(0, 5));
        jPanelALNSGeneralParams = new javax.swing.JPanel();
        jPanel3 = new javax.swing.JPanel();
        jLabelOutputFolderPath2 = new javax.swing.JLabel();
        jTextFieldOutputFolderPath2 = new javax.swing.JTextField();
        jLabel28 = new javax.swing.JLabel();
        jTextFieldNumThreads2 = new javax.swing.JTextField();
        jButtonOutputFolderPath2 = new javax.swing.JButton();
        jPanelALNSParameters = new javax.swing.JPanel();
        jPanel4 = new javax.swing.JPanel();
        jLabel5 = new javax.swing.JLabel();
        jTextFieldSegmentSize = new javax.swing.JTextField();
        jLabel6 = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        jLabel10 = new javax.swing.JLabel();
        jLabel11 = new javax.swing.JLabel();
        jLabel12 = new javax.swing.JLabel();
        jLabel13 = new javax.swing.JLabel();
        jLabel14 = new javax.swing.JLabel();
        jLabel15 = new javax.swing.JLabel();
        jLabel16 = new javax.swing.JLabel();
        jTextFieldQDelta = new javax.swing.JTextField();
        jTextFieldQStart = new javax.swing.JTextField();
        jTextFieldLambda = new javax.swing.JTextField();
        jTextFieldAlpha = new javax.swing.JTextField();
        jTextFieldTimeLimitALNS = new javax.swing.JTextField();
        jTextFieldTimeLimitLocalSearch = new javax.swing.JTextField();
        jTextFieldRewardForBestSegmentHeuristics = new javax.swing.JTextField();
        jTextFieldPunishmentForWorstSegmentHeuristics = new javax.swing.JTextField();
        jTextFieldMaxMIPSNodesForFeasibilityCheck = new javax.swing.JTextField();
        jTextFieldMaxIterationsWithoutImprovement = new javax.swing.JTextField();
        jLabel20 = new javax.swing.JLabel();
        jPanelPsi = new javax.swing.JPanel();
        jTextFieldPsi0 = new javax.swing.JTextField();
        jTextFieldPsi1 = new javax.swing.JTextField();
        jTextFieldPsi2 = new javax.swing.JTextField();
        jTextFieldPsi3 = new javax.swing.JTextField();
        jLabel2 = new javax.swing.JLabel();
        jTextFieldMaxSegments = new javax.swing.JTextField();
        jLabel4 = new javax.swing.JLabel();
        jLabel18 = new javax.swing.JLabel();
        jTextFieldMaxSegmentsWithoutImprovement = new javax.swing.JTextField();
        jLabel19 = new javax.swing.JLabel();
        jPanel1 = new javax.swing.JPanel();
        jPanelRepairHeuristics = new javax.swing.JPanel();
        jCheckBoxRepairHighCostRemoval = new javax.swing.JCheckBox();
        jCheckBoxRepairRandomRemoval = new javax.swing.JCheckBox();
        jCheckBoxRepairTravelTime = new javax.swing.JCheckBox();
        jCheckBoxRepairVehicleTime = new javax.swing.JCheckBox();
        jCheckBoxRepairWorstRemoval = new javax.swing.JCheckBox();
        jPanelDestroyHeuristics = new javax.swing.JPanel();
        jCheckBoxDestroyGreedyCostInsertion = new javax.swing.JCheckBox();
        jCheckBoxDestroyGreedyBestInsertion = new javax.swing.JCheckBox();
        jCheckBoxDestroyGreedyProfitInsertion = new javax.swing.JCheckBox();
        jCheckBoxDestroyRandomInsertion = new javax.swing.JCheckBox();
        jCheckBoxDestroyCloseToBarycenter = new javax.swing.JCheckBox();
        jTextFieldPunishmentGamma = new javax.swing.JTextField();
        jTextFieldCooldownGamma = new javax.swing.JTextField();
        jLabel21 = new javax.swing.JLabel();
        jLabel22 = new javax.swing.JLabel();
        jTextFieldWarmupGamma = new javax.swing.JTextField();
        jLabel23 = new javax.swing.JLabel();
        jTextFieldNerfBarrier = new javax.swing.JTextField();
        jLabel24 = new javax.swing.JLabel();
        jPanelRelaxed = new javax.swing.JPanel();
        jPanelRelaxedActions = new javax.swing.JPanel();
        jButtonRunRelaxed = new javax.swing.JButton();
        jPanelRelaxedParameters = new javax.swing.JPanel();
        jButtonOutputFolderPath = new javax.swing.JButton();
        jTextFieldOutputFolderPath = new javax.swing.JTextField();
        jLabelOutputFolderPath = new javax.swing.JLabel();
        jPanelOutput = new javax.swing.JPanel();
        jButtonStop = new javax.swing.JButton();
        jScrollPaneTextAreaOutput = new javax.swing.JScrollPane();
        jTextAreaOutput = new javax.swing.JTextArea();
        jButtonReset = new javax.swing.JButton();
        jPanelStatusBar = new javax.swing.JPanel();
        jPanelSBTop = new javax.swing.JPanel();
        jLabelStatus = new javax.swing.JLabel();
        jPanelSBBottom = new javax.swing.JPanel();
        jLabel25 = new javax.swing.JLabel();
        jLabelBestObj = new javax.swing.JLabel();
        jProgressBar1 = new javax.swing.JProgressBar();

        jFileChooserInstances.setAccessory(btnAddInstance);
        jFileChooserInstances.setDialogTitle("Select instance file(s) to add");
        jFileChooserInstances.setMultiSelectionEnabled(true);
        jFileChooserInstances.setSelectedFiles(null);

        org.jdesktop.beansbinding.Binding binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, pathCacheBean, org.jdesktop.beansbinding.ELProperty.create("${pathToLastDirectory}"), jFileChooserInstances, org.jdesktop.beansbinding.BeanProperty.create("currentDirectory"), "pathToLastDirectory1");
        binding.setSourceNullValue(Paths.get(System.getProperty("user.home")).toFile());
        bindingGroup.addBinding(binding);

        jTextField19.setText("jTextField19");

        jFileChooserOutputFolderPath.setAcceptAllFileFilterUsed(false);
        jFileChooserOutputFolderPath.setDialogTitle("Choose the output directory");
        jFileChooserOutputFolderPath.setFileSelectionMode(javax.swing.JFileChooser.DIRECTORIES_ONLY);
        jFileChooserOutputFolderPath.setToolTipText("Choose the output directory");

        jFileChooserLoadParameters.setDialogTitle("Load parameters from JSON");

        jFileChooserSaveParameters.setDialogType(javax.swing.JFileChooser.SAVE_DIALOG);
        jFileChooserSaveParameters.setDialogTitle("Save parameters to JSON");
        jFileChooserSaveParameters.setSelectedFile(new java.io.File("C:\\Program Files\\NetBeans 8.2\\myparams.json"));
        jFileChooserSaveParameters.setToolTipText(null);

        jFileChooserSaveOutput.setDialogType(javax.swing.JFileChooser.SAVE_DIALOG);
        jFileChooserSaveOutput.setDialogTitle("Choose a destination for the output file");

        jFileChooserWorkingDirectory.setDialogTitle("Choose the working directory");
        jFileChooserWorkingDirectory.setFileSelectionMode(javax.swing.JFileChooser.DIRECTORIES_ONLY);

        jDialogError.setTitle("Error");
        jDialogError.setIconImage(null);
        jDialogError.setModal(true);
        jDialogError.setType(java.awt.Window.Type.POPUP);
        jDialogError.getContentPane().setLayout(new java.awt.GridBagLayout());

        jLabelErrorMessage.setText("Error message!");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.ipadx = 30;
        gridBagConstraints.ipady = 30;
        jDialogError.getContentPane().add(jLabelErrorMessage, gridBagConstraints);

        jButtonErrorOk.setText("OK");
        jButtonErrorOk.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonErrorOkActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.gridwidth = 2;
        jDialogError.getContentPane().add(jButtonErrorOk, gridBagConstraints);

        jLabelErrorIcon.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/alert.png"))); // NOI18N
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        jDialogError.getContentPane().add(jLabelErrorIcon, gridBagConstraints);

        jDialogDeprecatedOptions.setBounds(new java.awt.Rectangle(50, 50, 100, 200));
        jDialogDeprecatedOptions.setLocation(new java.awt.Point(50, 50));
        jDialogDeprecatedOptions.setMinimumSize(new java.awt.Dimension(100, 300));
        jDialogDeprecatedOptions.setPreferredSize(new java.awt.Dimension(100, 300));
        jDialogDeprecatedOptions.setSize(new java.awt.Dimension(200, 400));
        jDialogDeprecatedOptions.setType(java.awt.Window.Type.UTILITY);
        jDialogDeprecatedOptions.getContentPane().setLayout(new javax.swing.BoxLayout(jDialogDeprecatedOptions.getContentPane(), javax.swing.BoxLayout.PAGE_AXIS));

        jPanelSolver.setBorder(javax.swing.BorderFactory.createTitledBorder("Solver"));
        java.awt.GridBagLayout jPanelSolverLayout = new java.awt.GridBagLayout();
        jPanelSolverLayout.columnWidths = new int[] {0};
        jPanelSolverLayout.rowHeights = new int[] {0, 10, 0, 10, 0};
        jPanelSolver.setLayout(jPanelSolverLayout);

        buttonGroupSolver.add(jRadioButtonMIPS);
        jRadioButtonMIPS.setText("MIPS");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        jPanelSolver.add(jRadioButtonMIPS, gridBagConstraints);

        buttonGroupSolver.add(jRadioButtonRelaxed);
        jRadioButtonRelaxed.setText("Relaxed");
        jRadioButtonRelaxed.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jRadioButtonRelaxedActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        jPanelSolver.add(jRadioButtonRelaxed, gridBagConstraints);

        buttonGroupSolver.add(jRadioButtonALNS);
        jRadioButtonALNS.setSelected(true);
        jRadioButtonALNS.setText("ALNS");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        jPanelSolver.add(jRadioButtonALNS, gridBagConstraints);

        jDialogDeprecatedOptions.getContentPane().add(jPanelSolver);

        jPanelActions.setBorder(javax.swing.BorderFactory.createTitledBorder("Actions"));
        java.awt.GridBagLayout jPanelActionsLayout = new java.awt.GridBagLayout();
        jPanelActionsLayout.columnWidths = new int[] {0};
        jPanelActionsLayout.rowHeights = new int[] {0, 10, 0, 10, 0, 10, 0, 10, 0};
        jPanelActions.setLayout(jPanelActionsLayout);

        jButtonSaveParameters.setText("Save Parameters");
        buttonGroupActions.add(jButtonSaveParameters);
        jButtonSaveParameters.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonSaveParametersActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        jPanelActions.add(jButtonSaveParameters, gridBagConstraints);

        jButtonLoadParameters.setText("Load Parameters");
        buttonGroupActions.add(jButtonLoadParameters);
        jButtonLoadParameters.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonLoadParametersActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        jPanelActions.add(jButtonLoadParameters, gridBagConstraints);

        jButtonRun.setText("Run!");
        buttonGroupActions.add(jButtonRun);
        jButtonRun.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonRunActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 6;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.ipadx = 107;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        jPanelActions.add(jButtonRun, gridBagConstraints);

        jButtonTestBean.setText("Show parameters JSON");
        jButtonTestBean.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonTestBeanActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        jPanelActions.add(jButtonTestBean, gridBagConstraints);

        jButton1.setText("Stop debugger");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 8;
        jPanelActions.add(jButton1, gridBagConstraints);

        jDialogDeprecatedOptions.getContentPane().add(jPanelActions);

        jDialogConfirmStop.setTitle("Warning");
        jDialogConfirmStop.setMinimumSize(new java.awt.Dimension(400, 125));
        jDialogConfirmStop.setModal(true);
        jDialogConfirmStop.setPreferredSize(new java.awt.Dimension(400, 125));
        jDialogConfirmStop.setResizable(false);

        jPanel6.setLayout(new java.awt.BorderLayout());

        jLabel17.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel17.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/alert.png"))); // NOI18N
        jPanel6.add(jLabel17, java.awt.BorderLayout.CENTER);

        jLabel29.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel29.setText("<html>Are you sure you want to stop the solver?\n<br />The batch process will also stop.\n</html>");
        jLabel29.setHorizontalTextPosition(javax.swing.SwingConstants.LEADING);
        jPanel6.add(jLabel29, java.awt.BorderLayout.LINE_END);
        jPanel6.add(filler4, java.awt.BorderLayout.EAST);

        jDialogConfirmStop.getContentPane().add(jPanel6, java.awt.BorderLayout.CENTER);

        jButtonYesStop.setText("Yes");
        jButtonYesStop.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonYesStopActionPerformed(evt);
            }
        });
        jPanel7.add(jButtonYesStop);

        jButtonNoStop.setText("No");
        jPanel7.add(jButtonNoStop);

        jDialogConfirmStop.getContentPane().add(jPanel7, java.awt.BorderLayout.SOUTH);

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setPreferredSize(new java.awt.Dimension(1230, 650));
        getContentPane().setLayout(new javax.swing.BoxLayout(getContentPane(), javax.swing.BoxLayout.PAGE_AXIS));

        jLabel1.setText("CTOWSS ALNS GUI v 1.5");
        getContentPane().add(jLabel1);

        jPanelMain.setPreferredSize(new java.awt.Dimension(1230, 600));
        jPanelMain.setLayout(new javax.swing.BoxLayout(jPanelMain, javax.swing.BoxLayout.LINE_AXIS));

        jSplitPane2.setDividerLocation(320);
        jSplitPane2.setOrientation(javax.swing.JSplitPane.VERTICAL_SPLIT);

        jPanelControls.setBorder(javax.swing.BorderFactory.createTitledBorder("Input"));
        jPanelControls.setToolTipText(null);
        jPanelControls.setLayout(new javax.swing.BoxLayout(jPanelControls, javax.swing.BoxLayout.PAGE_AXIS));

        jSplitPane1.setDividerLocation(400);

        jPanelnstances.setBorder(javax.swing.BorderFactory.createTitledBorder("1. Add instances to batch"));
        jPanelnstances.setMinimumSize(new java.awt.Dimension(94, 180));
        jPanelnstances.setLayout(new javax.swing.BoxLayout(jPanelnstances, javax.swing.BoxLayout.LINE_AXIS));

        jListInstances.setBorder(new javax.swing.border.SoftBevelBorder(javax.swing.border.BevelBorder.LOWERED));
        jListInstances.setSelectionMode(javax.swing.ListSelectionModel.SINGLE_SELECTION);
        jListInstances.setToolTipText(null);
        jScrollPane2.setViewportView(jListInstances);

        jPanelnstances.add(jScrollPane2);

        jPanelInstancesButtons.setLayout(new javax.swing.BoxLayout(jPanelInstancesButtons, javax.swing.BoxLayout.PAGE_AXIS));

        btnAddInstance.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/playlist-plus.png"))); // NOI18N
        btnAddInstance.setToolTipText("Add a new instance to the batch");
        buttonGroupInstance.add(btnAddInstance);
        btnAddInstance.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnAddInstanceActionPerformed(evt);
            }
        });
        jPanelInstancesButtons.add(btnAddInstance);

        btnRemoveInstance.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/playlist-minus.png"))); // NOI18N
        btnRemoveInstance.setToolTipText("Remove the selected instance from the batch");
        buttonGroupInstance.add(btnRemoveInstance);
        btnRemoveInstance.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnRemoveInstanceActionPerformed(evt);
            }
        });
        jPanelInstancesButtons.add(btnRemoveInstance);

        btnMoveInstanceUp.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/chevron-double-up.png"))); // NOI18N
        btnMoveInstanceUp.setToolTipText("Move the selected instance up in the batch");
        buttonGroupInstance.add(btnMoveInstanceUp);
        btnMoveInstanceUp.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnMoveInstanceUpActionPerformed(evt);
            }
        });
        jPanelInstancesButtons.add(btnMoveInstanceUp);

        btnMoveInstanceDown.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/chevron-double-down.png"))); // NOI18N
        btnMoveInstanceDown.setToolTipText("Move the selected instance down in the batch");
        buttonGroupInstance.add(btnMoveInstanceDown);
        btnMoveInstanceDown.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnMoveInstanceDownActionPerformed(evt);
            }
        });
        jPanelInstancesButtons.add(btnMoveInstanceDown);

        jPanelnstances.add(jPanelInstancesButtons);
        jPanelnstances.add(filler3);

        jSplitPane1.setLeftComponent(jPanelnstances);

        jPanelSolversEnvelope.setBorder(javax.swing.BorderFactory.createTitledBorder("2. Select, configure and run a solver"));
        jPanelSolversEnvelope.setMinimumSize(new java.awt.Dimension(362, 180));
        jPanelSolversEnvelope.setLayout(new javax.swing.BoxLayout(jPanelSolversEnvelope, javax.swing.BoxLayout.LINE_AXIS));

        jTabbedPaneSolvers.setToolTipText("Use a MIPS solver");
        jTabbedPaneSolvers.setMinimumSize(new java.awt.Dimension(350, 320));
        jTabbedPaneSolvers.setPreferredSize(new java.awt.Dimension(650, 326));

        jPanelMIPS.setMinimumSize(new java.awt.Dimension(300, 18));
        jPanelMIPS.setPreferredSize(new java.awt.Dimension(300, 240));
        jPanelMIPS.setLayout(new java.awt.BorderLayout());

        jScrollPaneIMIPS.setBorder(null);

        jPanel5.setLayout(new javax.swing.BoxLayout(jPanel5, javax.swing.BoxLayout.PAGE_AXIS));

        jPanelMIPSActions.setMinimumSize(new java.awt.Dimension(300, 80));
        jPanelMIPSActions.setPreferredSize(new java.awt.Dimension(600, 80));

        jButtonRunMIPS.setText("Solve with MIPS (exact)");
        buttonGroupActions.add(jButtonRunMIPS);
        jButtonRunMIPS.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonRunMIPSActionPerformed(evt);
            }
        });
        jPanelMIPSActions.add(jButtonRunMIPS);

        jButtonLoadParametersMIPS.setText("Load parameters");
        jButtonLoadParametersMIPS.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonLoadParametersMIPSActionPerformed(evt);
            }
        });
        jPanelMIPSActions.add(jButtonLoadParametersMIPS);

        jButtonSaveParametersMIPS.setText("Save parameters");
        jButtonSaveParametersMIPS.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonSaveParametersMIPSActionPerformed(evt);
            }
        });
        jPanelMIPSActions.add(jButtonSaveParametersMIPS);

        jPanel5.add(jPanelMIPSActions);

        jPanelMIPSParameters.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createTitledBorder(""), "Parameters"));
        jPanelMIPSParameters.setMinimumSize(new java.awt.Dimension(300, 180));
        jPanelMIPSParameters.setPreferredSize(new java.awt.Dimension(300, 180));
        jPanelMIPSParameters.setLayout(new java.awt.GridBagLayout());

        jLabelOutputFolderPath1.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabelOutputFolderPath1.setText("Output folder");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.ipadx = 67;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(10, 0, 0, 0);
        jPanelMIPSParameters.add(jLabelOutputFolderPath1, gridBagConstraints);

        jTextFieldOutputFolderPath1.setToolTipText("Choose the output directory");

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, parametersBean, org.jdesktop.beansbinding.ELProperty.create("${orienteeringProperties.outputFolderPath}"), jTextFieldOutputFolderPath1, org.jdesktop.beansbinding.BeanProperty.create("text"), "MIPS: output folder");
        bindingGroup.addBinding(binding);

        jTextFieldOutputFolderPath1.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTextFieldOutputFolderPath1updatePsiBean(evt);
            }
        });
        jTextFieldOutputFolderPath1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextFieldOutputFolderPath1ActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.ipadx = 212;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(6, 10, 0, 0);
        jPanelMIPSParameters.add(jTextFieldOutputFolderPath1, gridBagConstraints);

        jButtonOutputFolderPath1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/folder-open.png"))); // NOI18N
        jButtonOutputFolderPath1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonOutputFolderPath1ActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 10, 0, 0);
        jPanelMIPSParameters.add(jButtonOutputFolderPath1, gridBagConstraints);

        jLabel26.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel26.setText("Global time limit for MIPS");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(10, 0, 0, 0);
        jPanelMIPSParameters.add(jLabel26, gridBagConstraints);

        jTextFieldTimeLimit1.setToolTipText("Sets how long (in seconds) should the MIPS solver run for");

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, parametersBean, org.jdesktop.beansbinding.ELProperty.create("${orienteeringProperties.timeLimit}"), jTextFieldTimeLimit1, org.jdesktop.beansbinding.BeanProperty.create("text"), "MIPS: solver time limit");
        binding.setConverter(doubleConverter1);
        bindingGroup.addBinding(binding);

        jTextFieldTimeLimit1.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTextFieldTimeLimit1updatePsiBean(evt);
            }
        });
        jTextFieldTimeLimit1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextFieldTimeLimit1ActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.ipadx = 212;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(10, 10, 0, 0);
        jPanelMIPSParameters.add(jTextFieldTimeLimit1, gridBagConstraints);

        jLabel27.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel27.setText("Number of threads");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.ipadx = 35;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(10, 0, 0, 0);
        jPanelMIPSParameters.add(jLabel27, gridBagConstraints);

        jTextFieldNumThreads1.setToolTipText("<html>\nSelect how many threads should be used by the MIPS solver (also affects ALNS).\n<br/>Set it to 0 to use all the available CPU cores.\n<br/><b>NOTE:</b> if your CPU has hyperthreading, we suggest you to use only half of the available cores.");

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, orienteeringPropertiesBean, org.jdesktop.beansbinding.ELProperty.create("${numThreads}"), jTextFieldNumThreads1, org.jdesktop.beansbinding.BeanProperty.create("text"), "MIPS: number of threads");
        bindingGroup.addBinding(binding);

        jTextFieldNumThreads1.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTextFieldNumThreads1updatePsiBean(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.ipadx = 212;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(10, 10, 0, 0);
        jPanelMIPSParameters.add(jTextFieldNumThreads1, gridBagConstraints);

        jCheckBoxForceHeuristicConstraints1.setText("Force heuristic constraints in MIPS");
        jCheckBoxForceHeuristicConstraints1.setToolTipText("If checked, heuristic constraints will always be used every time the MIPS solver is run (also affects ALNS)");

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, orienteeringPropertiesBean, org.jdesktop.beansbinding.ELProperty.create("${forceHeuristicConstraints}"), jCheckBoxForceHeuristicConstraints1, org.jdesktop.beansbinding.BeanProperty.create("selected"), "MIPS: force heuristic constraints");
        bindingGroup.addBinding(binding);

        jCheckBoxForceHeuristicConstraints1.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                jCheckBoxForceHeuristicConstraints1updatePsiBeanC(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 5;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.insets = new java.awt.Insets(10, 10, 0, 0);
        jPanelMIPSParameters.add(jCheckBoxForceHeuristicConstraints1, gridBagConstraints);

        jLabel3.setText("seconds");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.insets = new java.awt.Insets(11, 0, 0, 0);
        jPanelMIPSParameters.add(jLabel3, gridBagConstraints);

        jPanel5.add(jPanelMIPSParameters);

        jScrollPaneIMIPS.setViewportView(jPanel5);

        jPanelMIPS.add(jScrollPaneIMIPS, java.awt.BorderLayout.PAGE_START);

        jTabbedPaneSolvers.addTab("MIPS", jPanelMIPS);

        jPanelALNS.setLayout(new java.awt.BorderLayout());

        jScrollPaneALNS.setBorder(null);
        jScrollPaneALNS.setMinimumSize(new java.awt.Dimension(200, 300));
        jScrollPaneALNS.setPreferredSize(new java.awt.Dimension(700, 300));

        jPanel2.setMinimumSize(new java.awt.Dimension(600, 1200));
        jPanel2.setName(""); // NOI18N
        jPanel2.setPreferredSize(new java.awt.Dimension(610, 1200));
        jPanel2.setRequestFocusEnabled(false);

        jPanelALNSActions.setMinimumSize(new java.awt.Dimension(600, 80));
        jPanelALNSActions.setPreferredSize(new java.awt.Dimension(600, 80));

        jButtonRunALNS.setText("Solve with ALNS (heuristic)");
        buttonGroupActions.add(jButtonRunALNS);
        jButtonRunALNS.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonRunALNSActionPerformed(evt);
            }
        });
        jPanelALNSActions.add(jButtonRunALNS);

        jButtonLoadParametersALNS.setText("Load parameters");
        jButtonLoadParametersALNS.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonLoadParametersALNSActionPerformed(evt);
            }
        });
        jPanelALNSActions.add(jButtonLoadParametersALNS);

        jButtonSaveParametersALNS.setText("Save parameters");
        jButtonSaveParametersALNS.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonSaveParametersALNSActionPerformed(evt);
            }
        });
        jPanelALNSActions.add(jButtonSaveParametersALNS);

        jPanel2.add(jPanelALNSActions);
        jPanel2.add(filler1);

        jPanelALNSGeneralParams.setBorder(javax.swing.BorderFactory.createTitledBorder("General Parameters"));
        jPanelALNSGeneralParams.setMinimumSize(new java.awt.Dimension(600, 150));
        jPanelALNSGeneralParams.setPreferredSize(new java.awt.Dimension(600, 150));

        jPanel3.setMinimumSize(new java.awt.Dimension(590, 100));
        jPanel3.setPreferredSize(new java.awt.Dimension(590, 110));
        jPanel3.setLayout(new java.awt.GridBagLayout());

        jLabelOutputFolderPath2.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabelOutputFolderPath2.setText("Output folder");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.ipadx = 67;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(10, 0, 0, 0);
        jPanel3.add(jLabelOutputFolderPath2, gridBagConstraints);

        jTextFieldOutputFolderPath2.setToolTipText("Choose the output directory");

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, parametersBean, org.jdesktop.beansbinding.ELProperty.create("${orienteeringProperties.outputFolderPath}"), jTextFieldOutputFolderPath2, org.jdesktop.beansbinding.BeanProperty.create("text"), "ALNS output folder");
        bindingGroup.addBinding(binding);

        jTextFieldOutputFolderPath2.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTextFieldOutputFolderPath2updatePsiBean(evt);
            }
        });
        jTextFieldOutputFolderPath2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextFieldOutputFolderPath2ActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.ipadx = 360;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(6, 10, 0, 0);
        jPanel3.add(jTextFieldOutputFolderPath2, gridBagConstraints);

        jLabel28.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel28.setText("Number of threads");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.ipadx = 35;
        gridBagConstraints.ipady = 9;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        jPanel3.add(jLabel28, gridBagConstraints);

        jTextFieldNumThreads2.setToolTipText("<html>\nSelect how many threads should be used by the MIPS solver (also affects ALNS).\n<br/>Set it to 0 to use all the available CPU cores.\n<br/><b>NOTE:</b> if your CPU has hyperthreading, we suggest you to use only half of the available cores.");
        jTextFieldNumThreads2.setMaximumSize(new java.awt.Dimension(30, 2147483647));
        jTextFieldNumThreads2.setPreferredSize(new java.awt.Dimension(30, 24));

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, parametersBean, org.jdesktop.beansbinding.ELProperty.create("${orienteeringProperties.numThreads}"), jTextFieldNumThreads2, org.jdesktop.beansbinding.BeanProperty.create("text"), "ALNS number of threads");
        bindingGroup.addBinding(binding);

        jTextFieldNumThreads2.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTextFieldNumThreads2updatePsiBean(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.ipadx = 360;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 10, 4, 0);
        jPanel3.add(jTextFieldNumThreads2, gridBagConstraints);

        jButtonOutputFolderPath2.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/folder-open.png"))); // NOI18N
        jButtonOutputFolderPath2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonOutputFolderPath2ActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.insets = new java.awt.Insets(0, 10, 0, 0);
        jPanel3.add(jButtonOutputFolderPath2, gridBagConstraints);

        jPanelALNSGeneralParams.add(jPanel3);

        jPanel2.add(jPanelALNSGeneralParams);

        jPanelALNSParameters.setBorder(javax.swing.BorderFactory.createTitledBorder("ALNS parameters"));
        jPanelALNSParameters.setMinimumSize(new java.awt.Dimension(600, 1100));
        jPanelALNSParameters.setPreferredSize(new java.awt.Dimension(600, 950));

        jPanel4.setMinimumSize(new java.awt.Dimension(500, 900));
        jPanel4.setPreferredSize(new java.awt.Dimension(500, 900));
        java.awt.GridBagLayout jPanel4Layout = new java.awt.GridBagLayout();
        jPanel4Layout.columnWidths = new int[] {0, 10, 0, 10, 0, 10, 0, 10, 0};
        jPanel4Layout.rowHeights = new int[] {0, 10, 0, 10, 0, 10, 0, 10, 0, 10, 0, 10, 0, 10, 0, 10, 0, 10, 0, 10, 0, 10, 0, 10, 0, 10, 0, 10, 0, 10, 0, 10, 0, 10, 0, 10, 0, 10, 0, 10, 0, 10, 0};
        jPanel4.setLayout(jPanel4Layout);

        jLabel5.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel5.setText("Max iterations per segment");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 8;
        gridBagConstraints.gridy = 6;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel4.add(jLabel5, gridBagConstraints);

        jTextFieldSegmentSize.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jTextFieldSegmentSize.setToolTipText("<html> \n<b>ALNS segment size</b>\n<br>Maximum number of iterations in an ALNS optimization segment.\n<br>Every iteration includes the application of a destroy heuristic over\n<br>the previous feasible solution, followed by the application of a\n<br>repair heuristic to bring the destroyed solution back to feasibility.\n<br>This parameter can be throttled by the \"Maximum iterations without\n<br>improvement in a segment\" parameter.");

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, parametersBean, org.jdesktop.beansbinding.ELProperty.create("${ALNSproperties.segmentSize}"), jTextFieldSegmentSize, org.jdesktop.beansbinding.BeanProperty.create("text"), "segmentSize");
        bindingGroup.addBinding(binding);

        jTextFieldSegmentSize.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                updatePsiBean(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 6;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        jPanel4.add(jTextFieldSegmentSize, gridBagConstraints);
        jTextFieldSegmentSize.getAccessibleContext().setAccessibleDescription("<html>\nMaximum number of iterations in an ALNS optimization segment.\n<br>Every iteration includes the application of a destroy heuristic over\n<br>the previous feasible solution, followed by the application of a\n<br>repair heuristic to bring the destroyed solution back to feasibility.\n<br>This parameter can be throttled by the \"Maximum iterations without\n<br>improvement in a segment\" parameter.");

        jLabel6.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel6.setText("Delta q");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 8;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel4.add(jLabel6, gridBagConstraints);

        jLabel7.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel7.setText("Initial q");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 8;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel4.add(jLabel7, gridBagConstraints);

        jLabel8.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel8.setText("Lambda");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 8;
        gridBagConstraints.gridy = 10;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel4.add(jLabel8, gridBagConstraints);

        jLabel9.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel9.setText("Alpha");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 8;
        gridBagConstraints.gridy = 12;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel4.add(jLabel9, gridBagConstraints);

        jLabel10.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel10.setText("ALNS solver time limit (seconds)");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 8;
        gridBagConstraints.gridy = 38;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel4.add(jLabel10, gridBagConstraints);

        jLabel11.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel11.setText("Local search time limit");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 8;
        gridBagConstraints.gridy = 22;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel4.add(jLabel11, gridBagConstraints);

        jLabel12.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel12.setText("Reward for best segment heuristics");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 8;
        gridBagConstraints.gridy = 28;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel4.add(jLabel12, gridBagConstraints);

        jLabel13.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel13.setText("Punishment for worst segment heuristics");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 8;
        gridBagConstraints.gridy = 30;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel4.add(jLabel13, gridBagConstraints);

        jLabel14.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel14.setText("Max MIPS nodes to solve in feasibility check");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 8;
        gridBagConstraints.gridy = 24;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel4.add(jLabel14, gridBagConstraints);

        jLabel15.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel15.setText("Max iterations w/o improvement in a segment");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 8;
        gridBagConstraints.gridy = 8;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel4.add(jLabel15, gridBagConstraints);

        jLabel16.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel16.setText("Heuristic scores (values for psi)");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 8;
        gridBagConstraints.gridy = 26;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel4.add(jLabel16, gridBagConstraints);

        jTextFieldQDelta.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jTextFieldQDelta.setToolTipText("<html>\n<b>Degree of Destruction increment</b>\n<br>Constant increment of q at the end of every segment.");

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, parametersBean, org.jdesktop.beansbinding.ELProperty.create("${ALNSproperties.qDelta}"), jTextFieldQDelta, org.jdesktop.beansbinding.BeanProperty.create("text"), "qDelta");
        bindingGroup.addBinding(binding);

        jTextFieldQDelta.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                updatePsiBean(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        jPanel4.add(jTextFieldQDelta, gridBagConstraints);

        jTextFieldQStart.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jTextFieldQStart.setToolTipText("<html>\n<b>Initial Degree of Destruction</b>\n<br>Initial value of q (degree of destruction) at the beginning of the first ALNS segment.\n<br>q determines how many clusters are to be inserted by the destruction heuristics.\n<br>The value of q increases at the end of each segment by <tt>qDelta</tt>.");

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, parametersBean, org.jdesktop.beansbinding.ELProperty.create("${ALNSproperties.qStart}"), jTextFieldQStart, org.jdesktop.beansbinding.BeanProperty.create("text"), "qStart");
        bindingGroup.addBinding(binding);

        jTextFieldQStart.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                updatePsiBean(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        jPanel4.add(jTextFieldQStart, gridBagConstraints);

        jTextFieldLambda.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jTextFieldLambda.setToolTipText("<html>\n<b>ALNS heuristic decay</b>\n<br>This is the decay parameter of the update process for heuristic method weights.\n<br>This value should be a double in the interval [0,1].\n<br>Heuristic method weights are updated at the end of every iteration\n<br>following the convex combination:\n<br> <tt>newWeight</tt> = <tt>lambda</tt>*<tt>oldWeight</tt> + (1-<tt>lambda</tt>)*<tt>psi</tt>\n<br>where <tt>psi</tt> is a value that indicates the relative score to give to an heuristic.");

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, parametersBean, org.jdesktop.beansbinding.ELProperty.create("${ALNSproperties.lambda}"), jTextFieldLambda, org.jdesktop.beansbinding.BeanProperty.create("text"), "lambda");
        bindingGroup.addBinding(binding);

        jTextFieldLambda.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                updatePsiBean(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 10;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        jPanel4.add(jTextFieldLambda, gridBagConstraints);

        jTextFieldAlpha.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jTextFieldAlpha.setToolTipText("<html>\n<b>Simulated annealing decay</b>\n<br>This is the decay parameter of the update process for <tt>Temperature.</tt>\n<br>This value should be a real number in the interval [0,1].\n<br>The temperature is updated at the end of every segment like\n<br><tt>newTemperature</tt> = <tt>alpha</tt>*<tt>oldTemperature</tt>\n<br>A slowly decreasing temperature (<tt>alpha</tt>-&gt;1)\n<br>will make it more likely to accept worse solutions at the\n<br>beginning of a segment, but it might find a better solution.\n<br>However a slowly decreasing temperature will take longer to converge\n<br>to a better solution.\n<br>\n<br><b>NOTE:</b> to be changed in accordance with <tt>Segment Size</tt>");

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, parametersBean, org.jdesktop.beansbinding.ELProperty.create("${ALNSproperties.alpha}"), jTextFieldAlpha, org.jdesktop.beansbinding.BeanProperty.create("text"), "alpha");
        bindingGroup.addBinding(binding);

        jTextFieldAlpha.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                updatePsiBean(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 12;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        jPanel4.add(jTextFieldAlpha, gridBagConstraints);
        jTextFieldAlpha.getAccessibleContext().setAccessibleDescription("<html>\n<b>Simulated annealing</b>\n<br>This is the decay parameter of the update process for <tt>Temperature.</tt>\n<br>This value should be a double in the interval [0,1].\n<br>The temperature is updated at the end of every segment like\n<br><tt>newTemperature</tt> = <tt>alpha</tt>*<tt>oldTemperature</tt>\n<br>A slowly decreasing temperature (<tt>alpha</tt>-&gt;1)\n<br>will make it more likely to accept worse solutions at the\n<br>beginning, but it might find a better solution in a longer time.\n<br><b>NOTE:</b> to be changed in accordance with <tt>Segment Size</tt>");

        jTextFieldTimeLimitALNS.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jTextFieldTimeLimitALNS.setToolTipText("<html>\n<b>ALNS time limit</b>\n<br>Maximum runtime for the ALNS heuristic algorithm (in seconds).\n<br>When this time is reached, the ALNS solver execution terminates.");

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, parametersBean, org.jdesktop.beansbinding.ELProperty.create("${ALNSproperties.timeLimitALNS}"), jTextFieldTimeLimitALNS, org.jdesktop.beansbinding.BeanProperty.create("text"), "timeLimitALNS");
        bindingGroup.addBinding(binding);

        jTextFieldTimeLimitALNS.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                updatePsiBean(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 38;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        jPanel4.add(jTextFieldTimeLimitALNS, gridBagConstraints);

        jTextFieldTimeLimitLocalSearch.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jTextFieldTimeLimitLocalSearch.setToolTipText("<html>\n<b>ALNS local search time limit</b>\n<br>Maximum runtime (in seconds) for the local search process.\n<br>A MIPS local search is run at the end of every segment, when possible.\n<br>The local search process takes advantage of all the heuristic constraints\n<br>defined by our Optimization Algorithms team.");

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, parametersBean, org.jdesktop.beansbinding.ELProperty.create("${ALNSproperties.timeLimitLocalSearch}"), jTextFieldTimeLimitLocalSearch, org.jdesktop.beansbinding.BeanProperty.create("text"), "timeLimitLocalSearch");
        bindingGroup.addBinding(binding);

        jTextFieldTimeLimitLocalSearch.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                updatePsiBean(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 22;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        jPanel4.add(jTextFieldTimeLimitLocalSearch, gridBagConstraints);

        jTextFieldRewardForBestSegmentHeuristics.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jTextFieldRewardForBestSegmentHeuristics.setToolTipText("<html>\n<b>ALNS reward for best h. in segment</b>\n<br>A scaling factor which is applied to the weight of the best heuristics of the previous segment,\n<br>at the beginning of the next segment.");

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, parametersBean, org.jdesktop.beansbinding.ELProperty.create("${ALNSproperties.rewardForBestSegmentHeuristics}"), jTextFieldRewardForBestSegmentHeuristics, org.jdesktop.beansbinding.BeanProperty.create("text"), "rewardForBestSegmentHeuristics");
        bindingGroup.addBinding(binding);

        jTextFieldRewardForBestSegmentHeuristics.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                updatePsiBean(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 28;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        jPanel4.add(jTextFieldRewardForBestSegmentHeuristics, gridBagConstraints);

        jTextFieldPunishmentForWorstSegmentHeuristics.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jTextFieldPunishmentForWorstSegmentHeuristics.setToolTipText("<html>\n<b>ALNS punishment for h. in segment</b>\n<br>A scaling factor which is applied to the weight of the worst heuristics of the previous segment,\n<br>at the beginning of the next segment.");

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, parametersBean, org.jdesktop.beansbinding.ELProperty.create("${ALNSproperties.punishmentForWorstSegmentHeuristics}"), jTextFieldPunishmentForWorstSegmentHeuristics, org.jdesktop.beansbinding.BeanProperty.create("text"), "punishmentForWorstSegmentHeuristics");
        bindingGroup.addBinding(binding);

        jTextFieldPunishmentForWorstSegmentHeuristics.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                updatePsiBean(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 30;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        jPanel4.add(jTextFieldPunishmentForWorstSegmentHeuristics, gridBagConstraints);

        jTextFieldMaxMIPSNodesForFeasibilityCheck.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jTextFieldMaxMIPSNodesForFeasibilityCheck.setToolTipText("<html>\n<b>Feasibility check cutoff</b>\n<br>Determines the maximum number of MIPS nodes to solve before\n<br>giving up on a feasibility test on a solution.\n<br>Should be set to a high amount (ideally more than 5000) to avoid\n<br>claiming that a feasible (but hard to prove) solution is infeasible.\n<br><b>Note:</b> hard-to-prove-as-feasible solutions will take advantage\n<br>of this possibility, but will take much longer to prove as feasible.\n<br>A lower amount will cutoff such hard-to-prove solutions (and save time).\n<br><b>When in doubt, leave at the default value.</b>");
        jTextFieldMaxMIPSNodesForFeasibilityCheck.setCursor(new java.awt.Cursor(java.awt.Cursor.TEXT_CURSOR));

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, parametersBean, org.jdesktop.beansbinding.ELProperty.create("${ALNSproperties.maxMIPSNodesForFeasibilityCheck}"), jTextFieldMaxMIPSNodesForFeasibilityCheck, org.jdesktop.beansbinding.BeanProperty.create("text"), "maxMIPSNodesForFeasibilityCheck");
        bindingGroup.addBinding(binding);

        jTextFieldMaxMIPSNodesForFeasibilityCheck.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                updatePsiBean(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 24;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        jPanel4.add(jTextFieldMaxMIPSNodesForFeasibilityCheck, gridBagConstraints);

        jTextFieldMaxIterationsWithoutImprovement.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jTextFieldMaxIterationsWithoutImprovement.setToolTipText("<html>\n<b>ALNS no-improvement throttle</b>\n<br>Maximum number of iterations without improvement in an ALNS optimization segment.\n<br>If this number of iterations without improvement is reached,\n<br>the ALNS solver will move on with the next segment (evenutally doing a little\n<br>local search in between the two segments).");

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, parametersBean, org.jdesktop.beansbinding.ELProperty.create("${ALNSproperties.maxIterationsWithoutImprovement}"), jTextFieldMaxIterationsWithoutImprovement, org.jdesktop.beansbinding.BeanProperty.create("text"), "maxIterationsWithoutImprovement");
        bindingGroup.addBinding(binding);

        jTextFieldMaxIterationsWithoutImprovement.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                updatePsiBean(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 8;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        jPanel4.add(jTextFieldMaxIterationsWithoutImprovement, gridBagConstraints);

        jLabel20.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel20.setText("Active Heuristics:");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 40;
        gridBagConstraints.gridwidth = 9;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.insets = new java.awt.Insets(0, 10, 0, 0);
        jPanel4.add(jLabel20, gridBagConstraints);

        jPanelPsi.setMinimumSize(new java.awt.Dimension(200, 24));
        jPanelPsi.addContainerListener(new java.awt.event.ContainerAdapter() {
            public void componentAdded(java.awt.event.ContainerEvent evt) {
                updatePsiGui(evt);
            }
        });
        jPanelPsi.setLayout(new javax.swing.BoxLayout(jPanelPsi, javax.swing.BoxLayout.LINE_AXIS));

        jTextFieldPsi0.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        jTextFieldPsi0.setText("0.0");
        jTextFieldPsi0.setToolTipText("<html>\n<b>ALNS h. score for new global optimum</b>\n<br><tt>w1</tt> is the new suggested score for the selected heuristics\n<br>if the new solution is found to be a new global optimum.");
        jTextFieldPsi0.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTextFieldPsi0FocusLost(evt);
            }
        });
        jTextFieldPsi0.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextFieldPsi0ActionPerformed(evt);
            }
        });
        jPanelPsi.add(jTextFieldPsi0);

        jTextFieldPsi1.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        jTextFieldPsi1.setText("0.0");
        jTextFieldPsi1.setToolTipText("<html>\n<b>ALNS h. score for better solution</b>\n<br><tt>w2</tt> is the new suggested score for the selected heuristics\n<br>if the new solution is found to be better than the previous one.");
        jTextFieldPsi1.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTextFieldPsi1FocusLost(evt);
            }
        });
        jTextFieldPsi1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextFieldPsi1ActionPerformed(evt);
            }
        });
        jPanelPsi.add(jTextFieldPsi1);

        jTextFieldPsi2.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        jTextFieldPsi2.setText("0.0");
        jTextFieldPsi2.setToolTipText("<html>\n<b>ALNS h. score for worse solution, but accepted</b>\n<br><tt>w3</tt> is the new suggested score for the selected heuristics\n<br>if the new solution is worse than the previous one but is accepted anyway.");
        jTextFieldPsi2.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTextFieldPsi2FocusLost(evt);
            }
        });
        jTextFieldPsi2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextFieldPsi2ActionPerformed(evt);
            }
        });
        jPanelPsi.add(jTextFieldPsi2);

        jTextFieldPsi3.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        jTextFieldPsi3.setText("0.0");
        jTextFieldPsi3.setToolTipText("<html>\n<b>ALNS h. score for solution rejected</b>\n<br><tt>w4</tt> is the new suggested score for the selected heuristics\n<br>if the new solution is found to be worse than the previous one and is rejected.");
        jTextFieldPsi3.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTextFieldPsi3FocusLost(evt);
            }
        });
        jTextFieldPsi3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextFieldPsi3ActionPerformed(evt);
            }
        });
        jPanelPsi.add(jTextFieldPsi3);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 26;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        jPanel4.add(jPanelPsi, gridBagConstraints);

        jLabel2.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel2.setText("Max segments for an ALNS run");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 8;
        gridBagConstraints.gridy = 34;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel4.add(jLabel2, gridBagConstraints);

        jTextFieldMaxSegments.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jTextFieldMaxSegments.setToolTipText("<html>\nMaximum number of segments for an ALNS run.\n<br>When this number of segments is reached, the ALNS solver\n<br>terminates its execution.\n<br>This value is throttled by the \"Max segments without improvement\"\n<br>parameter.");

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, parametersBean, org.jdesktop.beansbinding.ELProperty.create("${ALNSproperties.maxSegments}"), jTextFieldMaxSegments, org.jdesktop.beansbinding.BeanProperty.create("text"), "maxSegments");
        bindingGroup.addBinding(binding);

        jTextFieldMaxSegments.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                updatePsiBean(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 34;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        jPanel4.add(jTextFieldMaxSegments, gridBagConstraints);

        jLabel4.setText("Setup:");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.gridwidth = 9;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.insets = new java.awt.Insets(0, 10, 0, 0);
        jPanel4.add(jLabel4, gridBagConstraints);

        jLabel18.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel18.setText("Termination criteria:");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 32;
        gridBagConstraints.gridwidth = 9;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.insets = new java.awt.Insets(0, 10, 0, 0);
        jPanel4.add(jLabel18, gridBagConstraints);

        jTextFieldMaxSegmentsWithoutImprovement.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jTextFieldMaxSegmentsWithoutImprovement.setToolTipText("<html>\nMaximum number of segments without improvement for an ALNS run.\n<br>When this number of segments without improvement is reached,\n<br>the ALNS solver terminates its execution.");

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, parametersBean, org.jdesktop.beansbinding.ELProperty.create("${ALNSproperties.maxSegmentsWithoutImprovement}"), jTextFieldMaxSegmentsWithoutImprovement, org.jdesktop.beansbinding.BeanProperty.create("text"), "maxSegmentsWithoutImprovement");
        bindingGroup.addBinding(binding);

        jTextFieldMaxSegmentsWithoutImprovement.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                updatePsiBean(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 36;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        jPanel4.add(jTextFieldMaxSegmentsWithoutImprovement, gridBagConstraints);

        jLabel19.setText("Max segments without improvement");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 8;
        gridBagConstraints.gridy = 36;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel4.add(jLabel19, gridBagConstraints);

        jPanel1.setLayout(new java.awt.GridLayout(1, 2));

        jPanelRepairHeuristics.setBorder(javax.swing.BorderFactory.createTitledBorder("Repair Heuristics"));
        jPanelRepairHeuristics.setToolTipText("");
        jPanelRepairHeuristics.setName(""); // NOI18N
        jPanelRepairHeuristics.setLayout(new java.awt.GridBagLayout());

        jCheckBoxRepairHighCostRemoval.setText("RepairHighCostRemoval");

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, parametersBean, org.jdesktop.beansbinding.ELProperty.create("${ALNSproperties.useRepairHighCostRemoval}"), jCheckBoxRepairHighCostRemoval, org.jdesktop.beansbinding.BeanProperty.create("selected"), "useRepairHighCostRemoval");
        bindingGroup.addBinding(binding);

        jCheckBoxRepairHighCostRemoval.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                updatePsiBeanC(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanelRepairHeuristics.add(jCheckBoxRepairHighCostRemoval, gridBagConstraints);

        jCheckBoxRepairRandomRemoval.setText("RepairRandomRemoval");

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, parametersBean, org.jdesktop.beansbinding.ELProperty.create("${ALNSproperties.useRepairRandomRemoval}"), jCheckBoxRepairRandomRemoval, org.jdesktop.beansbinding.BeanProperty.create("selected"), "useRepairRandomRemoval");
        bindingGroup.addBinding(binding);

        jCheckBoxRepairRandomRemoval.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                updatePsiBeanC(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanelRepairHeuristics.add(jCheckBoxRepairRandomRemoval, gridBagConstraints);

        jCheckBoxRepairTravelTime.setText("RepairTravelTime");

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, parametersBean, org.jdesktop.beansbinding.ELProperty.create("${ALNSproperties.useRepairTravelTime}"), jCheckBoxRepairTravelTime, org.jdesktop.beansbinding.BeanProperty.create("selected"), "useRepairTravelTime");
        bindingGroup.addBinding(binding);

        jCheckBoxRepairTravelTime.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                updatePsiBeanC(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanelRepairHeuristics.add(jCheckBoxRepairTravelTime, gridBagConstraints);

        jCheckBoxRepairVehicleTime.setText("RepairVehicleTime");

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, parametersBean, org.jdesktop.beansbinding.ELProperty.create("${ALNSproperties.useRepairVehicleTime}"), jCheckBoxRepairVehicleTime, org.jdesktop.beansbinding.BeanProperty.create("selected"), "useRepairVehicleTime");
        bindingGroup.addBinding(binding);

        jCheckBoxRepairVehicleTime.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                updatePsiBeanC(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanelRepairHeuristics.add(jCheckBoxRepairVehicleTime, gridBagConstraints);

        jCheckBoxRepairWorstRemoval.setText("RepairWorstRemoval");

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, parametersBean, org.jdesktop.beansbinding.ELProperty.create("${ALNSproperties.useRepairWorstRemoval}"), jCheckBoxRepairWorstRemoval, org.jdesktop.beansbinding.BeanProperty.create("selected"), "useRepairWorstRemoval");
        bindingGroup.addBinding(binding);

        jCheckBoxRepairWorstRemoval.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                updatePsiBeanC(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanelRepairHeuristics.add(jCheckBoxRepairWorstRemoval, gridBagConstraints);

        jPanel1.add(jPanelRepairHeuristics);

        jPanelDestroyHeuristics.setBorder(javax.swing.BorderFactory.createTitledBorder("Destroy Heuristics"));
        jPanelDestroyHeuristics.setToolTipText("");
        jPanelDestroyHeuristics.setLayout(new java.awt.GridBagLayout());

        jCheckBoxDestroyGreedyCostInsertion.setText("DestroyGreedyCostInsertion");

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, parametersBean, org.jdesktop.beansbinding.ELProperty.create("${ALNSproperties.useDestroyGreedyCostInsertion}"), jCheckBoxDestroyGreedyCostInsertion, org.jdesktop.beansbinding.BeanProperty.create("selected"), "useDestroyGreedyCostInsertion");
        bindingGroup.addBinding(binding);

        jCheckBoxDestroyGreedyCostInsertion.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                updatePsiBeanC(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanelDestroyHeuristics.add(jCheckBoxDestroyGreedyCostInsertion, gridBagConstraints);

        jCheckBoxDestroyGreedyBestInsertion.setText("DestroyGreedyBestInsertion");

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, parametersBean, org.jdesktop.beansbinding.ELProperty.create("${ALNSproperties.useDestroyGreedyBestInsertion}"), jCheckBoxDestroyGreedyBestInsertion, org.jdesktop.beansbinding.BeanProperty.create("selected"), "useDestroyGreedyBestInsertion");
        bindingGroup.addBinding(binding);

        jCheckBoxDestroyGreedyBestInsertion.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                updatePsiBeanC(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanelDestroyHeuristics.add(jCheckBoxDestroyGreedyBestInsertion, gridBagConstraints);

        jCheckBoxDestroyGreedyProfitInsertion.setText("DestroyGreedyProfitInsertion");

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, parametersBean, org.jdesktop.beansbinding.ELProperty.create("${ALNSproperties.useDestroyGreedyProfitInsertion}"), jCheckBoxDestroyGreedyProfitInsertion, org.jdesktop.beansbinding.BeanProperty.create("selected"), "useDestroyGreedyProfitInsertion");
        bindingGroup.addBinding(binding);

        jCheckBoxDestroyGreedyProfitInsertion.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                updatePsiBeanC(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanelDestroyHeuristics.add(jCheckBoxDestroyGreedyProfitInsertion, gridBagConstraints);

        jCheckBoxDestroyRandomInsertion.setText("DestroyRandomInsertion");

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, parametersBean, org.jdesktop.beansbinding.ELProperty.create("${ALNSproperties.useDestroyRandomInsertion}"), jCheckBoxDestroyRandomInsertion, org.jdesktop.beansbinding.BeanProperty.create("selected"), "useDestroyRandomInsertion");
        bindingGroup.addBinding(binding);

        jCheckBoxDestroyRandomInsertion.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                updatePsiBeanC(evt);
            }
        });
        jCheckBoxDestroyRandomInsertion.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jCheckBoxDestroyRandomInsertionActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanelDestroyHeuristics.add(jCheckBoxDestroyRandomInsertion, gridBagConstraints);

        jCheckBoxDestroyCloseToBarycenter.setText("DestroyCloseToBarycenter");

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, parametersBean, org.jdesktop.beansbinding.ELProperty.create("${ALNSproperties.useDestroyCloseToBarycenter}"), jCheckBoxDestroyCloseToBarycenter, org.jdesktop.beansbinding.BeanProperty.create("selected"), "useDestroyCloseToBarycenter");
        bindingGroup.addBinding(binding);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.LINE_START;
        jPanelDestroyHeuristics.add(jCheckBoxDestroyCloseToBarycenter, gridBagConstraints);

        jPanel1.add(jPanelDestroyHeuristics);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 42;
        gridBagConstraints.gridwidth = 9;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        jPanel4.add(jPanel1, gridBagConstraints);

        jTextFieldPunishmentGamma.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jTextFieldPunishmentGamma.setToolTipText("<html>\n<b>Cluster roulette</b>\n<br>This parameter is the new probability of being chosen for nerfed\n<br>clusters (clusters which haven't behaved well in the segment).\n<br>Must be a double in range [0,1].");

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, parametersBean, org.jdesktop.beansbinding.ELProperty.create("${ALNSproperties.punishmentGamma}"), jTextFieldPunishmentGamma, org.jdesktop.beansbinding.BeanProperty.create("text"), "punishmentGamma");
        bindingGroup.addBinding(binding);

        jTextFieldPunishmentGamma.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                updatePsiBean(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 14;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        jPanel4.add(jTextFieldPunishmentGamma, gridBagConstraints);

        jTextFieldCooldownGamma.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jTextFieldCooldownGamma.setToolTipText("<html>\n<b>Cluster roulette</b>\n<br>This parameter is the scaling factor used in the cooldown process.\n<br>Must be a small double in range [0,1].\n<br><li>A hot (freshly selected) cluster will have a new probability of\nbeing chosen which is <i>cooldownGamma</i> times smaller</li>\n<br>Probability for hot clusters is downscaled like\n<br><li><i>newProbability</i> = (1 -\n<i>cooldownGamma</i>)*<i>oldProbability</i></li>");

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, parametersBean, org.jdesktop.beansbinding.ELProperty.create("${ALNSproperties.cooldownGamma}"), jTextFieldCooldownGamma, org.jdesktop.beansbinding.BeanProperty.create("text"), "cooldownGamma");
        bindingGroup.addBinding(binding);

        jTextFieldCooldownGamma.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                updatePsiBean(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 16;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        jPanel4.add(jTextFieldCooldownGamma, gridBagConstraints);

        jLabel21.setText("Punishment Gamma");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 8;
        gridBagConstraints.gridy = 14;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel4.add(jLabel21, gridBagConstraints);

        jLabel22.setText("Cooldown Gamma");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 8;
        gridBagConstraints.gridy = 16;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel4.add(jLabel22, gridBagConstraints);

        jTextFieldWarmupGamma.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jTextFieldWarmupGamma.setToolTipText("<html>\n<b>Cluster roulette</b>\n<br>This parameter is the scaling factor used in the warmup process.\n<br>Must be a small double in range [0,1].\n<br><li>A cold (not freshly selected) cluster will have a new probability\nof being chosen which is <i>warmupGamma</i> times bigger</li>\n\n<br>Probability for cold clusters is upscaled like\n<br><li><i>newProbability</i> = (1 -\n<i>warmupGamma</i>)*<i>oldProbability</i>+<i>warmupGamma</i></li>");

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, parametersBean, org.jdesktop.beansbinding.ELProperty.create("${ALNSproperties.warmupGamma}"), jTextFieldWarmupGamma, org.jdesktop.beansbinding.BeanProperty.create("text"), "warmupGamma");
        bindingGroup.addBinding(binding);

        jTextFieldWarmupGamma.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                updatePsiBean(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 18;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.LINE_END;
        jPanel4.add(jTextFieldWarmupGamma, gridBagConstraints);

        jLabel23.setText("Warmup Gamma");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 8;
        gridBagConstraints.gridy = 18;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.LINE_START;
        jPanel4.add(jLabel23, gridBagConstraints);

        jTextFieldNerfBarrier.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jTextFieldNerfBarrier.setToolTipText("<html>\n<b>Cooldown - Bad Cluster Nerfing at segment end</b>\n<br>Clusters that have had a \"chance of being chosen\" less than the average\nfor more than nerfBarrier% of the time in a segment will be surely\npunished to make them less available in the following segment.\n\n<br>This will also impact on the local search: clusters that have a\nprobability of selection below the average won't be included in those\navailable for the local search.\n\n<br>Must be a double in range [0,1].");

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, parametersBean, org.jdesktop.beansbinding.ELProperty.create("${ALNSproperties.nerfBarrier}"), jTextFieldNerfBarrier, org.jdesktop.beansbinding.BeanProperty.create("text"), "nerfBarrier");
        bindingGroup.addBinding(binding);

        jTextFieldNerfBarrier.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTextFieldNerfBarrierFocusLost(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 20;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.LINE_END;
        jPanel4.add(jTextFieldNerfBarrier, gridBagConstraints);

        jLabel24.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel24.setText("Nerf Barrier");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 8;
        gridBagConstraints.gridy = 20;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.LINE_START;
        jPanel4.add(jLabel24, gridBagConstraints);

        jPanelALNSParameters.add(jPanel4);

        jPanel2.add(jPanelALNSParameters);

        jScrollPaneALNS.setViewportView(jPanel2);

        jPanelALNS.add(jScrollPaneALNS, java.awt.BorderLayout.CENTER);

        jTabbedPaneSolvers.addTab("ALNS", jPanelALNS);

        jPanelRelaxedActions.setMinimumSize(new java.awt.Dimension(600, 80));

        jButtonRunRelaxed.setText("Solve relaxed model");
        buttonGroupActions.add(jButtonRunRelaxed);
        jButtonRunRelaxed.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonRunRelaxedActionPerformed(evt);
            }
        });
        jPanelRelaxedActions.add(jButtonRunRelaxed);

        jPanelRelaxed.add(jPanelRelaxedActions);

        jPanelRelaxedParameters.setLayout(new java.awt.GridBagLayout());

        jButtonOutputFolderPath.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/folder-open.png"))); // NOI18N
        jButtonOutputFolderPath.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonOutputFolderPathActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.gridheight = 3;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(30, 12, 30, 0);
        jPanelRelaxedParameters.add(jButtonOutputFolderPath, gridBagConstraints);

        jTextFieldOutputFolderPath.setToolTipText("Choose the output directory");

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, parametersBean, org.jdesktop.beansbinding.ELProperty.create("${orienteeringProperties.outputFolderPath}"), jTextFieldOutputFolderPath, org.jdesktop.beansbinding.BeanProperty.create("text"), "outputFolderPath");
        bindingGroup.addBinding(binding);

        jTextFieldOutputFolderPath.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                updatePsiBean(evt);
            }
        });
        jTextFieldOutputFolderPath.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextFieldOutputFolderPathActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.gridheight = 2;
        gridBagConstraints.ipadx = 84;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(38, 14, 0, 0);
        jPanelRelaxedParameters.add(jTextFieldOutputFolderPath, gridBagConstraints);

        jLabelOutputFolderPath.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabelOutputFolderPath.setText("Output folder");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(42, 0, 0, 0);
        jPanelRelaxedParameters.add(jLabelOutputFolderPath, gridBagConstraints);

        jPanelRelaxed.add(jPanelRelaxedParameters);

        jTabbedPaneSolvers.addTab("Relaxed", jPanelRelaxed);

        jPanelSolversEnvelope.add(jTabbedPaneSolvers);
        jTabbedPaneSolvers.getAccessibleContext().setAccessibleName("MIPS");
        jTabbedPaneSolvers.getAccessibleContext().setAccessibleDescription("MIPS Solver panel");

        jSplitPane1.setRightComponent(jPanelSolversEnvelope);

        jPanelControls.add(jSplitPane1);

        jSplitPane2.setLeftComponent(jPanelControls);

        jPanelOutput.setBorder(javax.swing.BorderFactory.createTitledBorder("Output"));
        java.awt.GridBagLayout jPanelOutputLayout = new java.awt.GridBagLayout();
        jPanelOutputLayout.columnWidths = new int[] {0, 10, 0, 10, 0, 10, 0};
        jPanelOutputLayout.rowHeights = new int[] {0, 10, 0};
        jPanelOutput.setLayout(jPanelOutputLayout);

        jButtonStop.setText("Stop");
        jButtonStop.setEnabled(false);
        jButtonStop.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonStopActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 10, 0, 0);
        jPanelOutput.add(jButtonStop, gridBagConstraints);

        jScrollPaneTextAreaOutput.setBackground(new java.awt.Color(0, 51, 102));
        jScrollPaneTextAreaOutput.setAutoscrolls(true);

        jTextAreaOutput.setEditable(false);
        jTextAreaOutput.setBackground(new java.awt.Color(0, 0, 102));
        jTextAreaOutput.setColumns(15);
        jTextAreaOutput.setFont(new java.awt.Font("Monospaced", 0, 12)); // NOI18N
        jTextAreaOutput.setForeground(new java.awt.Color(255, 255, 0));
        jTextAreaOutput.setRows(4);
        jTextAreaOutput.setTabSize(4);
        jTextAreaOutput.setToolTipText(null);
        jTextAreaOutput.setAutoscrolls(false);
        jTextAreaOutput.setMargin(new java.awt.Insets(5, 7, 5, 7));
        jTextAreaOutput.setSelectedTextColor(new java.awt.Color(255, 255, 153));
        jTextAreaOutput.setSelectionColor(new java.awt.Color(102, 0, 102));
        jScrollPaneTextAreaOutput.setViewportView(jTextAreaOutput);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.gridwidth = 7;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.ipadx = 1157;
        gridBagConstraints.ipady = 30;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(10, 10, 0, 10);
        jPanelOutput.add(jScrollPaneTextAreaOutput, gridBagConstraints);

        jButtonReset.setText("Clear");
        jButtonReset.setToolTipText("Clear console ouput, reset status");
        jButtonReset.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonResetActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanelOutput.add(jButtonReset, gridBagConstraints);

        jPanelStatusBar.setBorder(javax.swing.BorderFactory.createTitledBorder("Status"));
        jPanelStatusBar.setForeground(java.awt.SystemColor.windowText);
        jPanelStatusBar.setLayout(new java.awt.BorderLayout());

        jPanelSBTop.setLayout(new javax.swing.BoxLayout(jPanelSBTop, javax.swing.BoxLayout.LINE_AXIS));

        jLabelStatus.setFont(new java.awt.Font("Dialog", 0, 12)); // NOI18N
        jLabelStatus.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabelStatus.setText("Ready.");
        jLabelStatus.setToolTipText(jLabelStatus.getText());
        jPanelSBTop.add(jLabelStatus);

        jPanelStatusBar.add(jPanelSBTop, java.awt.BorderLayout.PAGE_START);

        jPanelSBBottom.setLayout(new java.awt.GridLayout());

        jLabel25.setText("Best objective:");
        jPanelSBBottom.add(jLabel25);

        jLabelBestObj.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabelBestObj.setText("0.0");
        jPanelSBBottom.add(jLabelBestObj);

        jProgressBar1.setToolTipText(null);
        jProgressBar1.setBorder(null);
        jProgressBar1.setStringPainted(true);
        jPanelSBBottom.add(jProgressBar1);

        jPanelStatusBar.add(jPanelSBBottom, java.awt.BorderLayout.PAGE_END);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 6;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 0, 0, 10);
        jPanelOutput.add(jPanelStatusBar, gridBagConstraints);

        jSplitPane2.setRightComponent(jPanelOutput);

        jPanelMain.add(jSplitPane2);

        getContentPane().add(jPanelMain);

        bindingGroup.bind();

        pack();
    }// </editor-fold>//GEN-END:initComponents
        
    private void jButtonStopActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonStopActionPerformed
        // TODO add your handling code here:
        jDialogConfirmStop.setVisible(true);
    }//GEN-LAST:event_jButtonStopActionPerformed

    private void jButtonResetActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonResetActionPerformed
        // TODO add your handling code here:
        // Cleanup the output area
        jTextAreaOutput.setText("");
        
        // Reset the progress bar
        jProgressBar1.setIndeterminate(false);
        jProgressBar1.setValue(0);
        
        jLabelBestObj.setText("0.0");

        // Update the status text
        updateStatusLabel("Ready.");
    }//GEN-LAST:event_jButtonResetActionPerformed

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        // TODO add your handling code here:
        System.out.println("Execution paused");
    }//GEN-LAST:event_jButton1ActionPerformed

    private void jButtonTestBeanActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonTestBeanActionPerformed
        updateParametersBean();
        jTextAreaOutput.append("Current properties bean:\n");
        jTextAreaOutput.append(parametersBean.toJSON());
    }//GEN-LAST:event_jButtonTestBeanActionPerformed

    /**
     * Launch the selected solver with the provided instances
     * @param solver 
     */
    private void runWithSolver(Controller.Solvers solver){
        // Update the parameters
        updateParametersBean();

        // Retrieve all instances to run
        List<String> modelPaths = new ArrayList<>();
        for (int i = 0; i < jListInstances.getModel().getSize(); i++) {
            modelPaths.add(jListInstances.getModel().getElementAt(i));
        }

        if (!modelPaths.isEmpty()) {
            // Disable all control windows
            this.enableControlPanel(false);
            
            // Update the status bar
            updateStatusLabel("Running.");
            jProgressBar1.setIndeterminate(false);
            jProgressBar1.setValue(0);

            // Setup a new instance of controller
            controllerTask = new Controller(modelPaths,
                parametersBean.getOrienteeringProperties(),
                parametersBean.getALNSproperties(),
                solver,
                textAreaOutputStream,
                this
            );
            controllerTask.execute();
        } else {
            updateStatusLabel("No instances to solve! Ready.");
        }
    }
    
    private void jButtonRunActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonRunActionPerformed
        // TODO add your handling code here:
        System.out.println("Who are you running from? Don't be silly!\n");

        // Update the parameters
        updateParametersBean();

        // Retrieve all instances to run
        List<String> modelPaths = new ArrayList<>();
        for (int i = 0; i < jListInstances.getModel().getSize(); i++) {
            modelPaths.add(jListInstances.getModel().getElementAt(i));
        }

        if (!modelPaths.isEmpty()) {
            // Disable all control windows
            this.enableControlPanel(false);

            // Retrieve information on which solver to use
            Controller.Solvers solver = Controller.Solvers.SOLVE_RELAXED;
            if (jRadioButtonALNS.isSelected()) {
                solver = Controller.Solvers.SOLVE_ALNS;
            } else if (jRadioButtonMIPS.isSelected()) {
                solver = Controller.Solvers.SOLVE_MIPS;
            } else if (jRadioButtonRelaxed.isSelected()) {
                solver = Controller.Solvers.SOLVE_RELAXED;
            }
            // Update the status bar
            updateStatusLabel("Running.");
            jProgressBar1.setIndeterminate(false);
            jProgressBar1.setValue(0);

            // Setup a new instance of controller
            controllerTask = new Controller(modelPaths,
                orienteeringPropertiesBean,
                alnsPropertiesBean,
                solver,
                textAreaOutputStream,
                this
            );
            controllerTask.execute();
        } else {
            updateStatusLabel("No instances to solve! Ready.");
        }
    }//GEN-LAST:event_jButtonRunActionPerformed

    private void loadParameters(){
        jFileChooserLoadParameters.setCurrentDirectory(pathCacheBean.getPathToLastDirectory());

        int result = jFileChooserLoadParameters.showOpenDialog(jPanelSolversEnvelope);
        File inputFile = jFileChooserLoadParameters.getSelectedFile();
        if (inputFile != null && result == JFileChooser.APPROVE_OPTION) {
            try {
                this.parametersBean.deserializeFromJSON(inputFile.getAbsolutePath());
                this.alnsPropertiesBean = parametersBean.getALNSproperties();
                this.orienteeringPropertiesBean = parametersBean.getOrienteeringProperties();
                this.updateParametersGUI();
            } catch (IOException ex) {
                System.out.println("Can't load parameters from '"+inputFile.getAbsolutePath()+"': "+ex.getMessage());
            }
            System.out.println("Parameters loaded from '"+inputFile.getAbsolutePath()+"'");
            updateWorkingDirectory(inputFile.toPath().getParent().toFile());
        }
    }
    
    private void jButtonLoadParametersActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonLoadParametersActionPerformed
        loadParameters();
    }//GEN-LAST:event_jButtonLoadParametersActionPerformed

    private void saveParameters(){
        jFileChooserSaveParameters.setCurrentDirectory(pathCacheBean.getPathToLastDirectory());
        updateParametersBean();
        int result = jFileChooserSaveParameters.showOpenDialog(jPanelSolversEnvelope);
        File outputFilePath = jFileChooserSaveParameters.getSelectedFile();
        if (outputFilePath != null && result == JFileChooser.APPROVE_OPTION) {
            try {
                this.parametersBean.serializeToJSON(outputFilePath.getAbsolutePath());
            } catch (IOException ex) {
                System.out.println("Can't save to '"+outputFilePath.getAbsolutePath()+"': "+ex.getMessage());
            }
            System.out.println("Parameters saved to '"+outputFilePath.getAbsolutePath()+"'");
            updateWorkingDirectory(outputFilePath.toPath().getParent().toFile());
        }
    }
    
    private void jButtonSaveParametersActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonSaveParametersActionPerformed
        saveParameters();
    }//GEN-LAST:event_jButtonSaveParametersActionPerformed

    private void jTextFieldNerfBarrierFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextFieldNerfBarrierFocusLost
        // TODO add your handling code here:
        updateParametersBean();
    }//GEN-LAST:event_jTextFieldNerfBarrierFocusLost

    private void updatePsiBean(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_updatePsiBean
        updateParametersBean();
    }//GEN-LAST:event_updatePsiBean

    private void jCheckBoxDestroyRandomInsertionActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jCheckBoxDestroyRandomInsertionActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jCheckBoxDestroyRandomInsertionActionPerformed

    private void updatePsiBeanC(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_updatePsiBeanC
        // TODO add your handling code here:
        //updateParametersBean();
    }//GEN-LAST:event_updatePsiBeanC

    private void updatePsiGui(java.awt.event.ContainerEvent evt) {//GEN-FIRST:event_updatePsiGui
        // TODO add your handling code here:
        updatePsiGui();
    }//GEN-LAST:event_updatePsiGui

    private void jTextFieldPsi3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextFieldPsi3ActionPerformed
        // TODO add your handling code here:
        updatePsiBean();
    }//GEN-LAST:event_jTextFieldPsi3ActionPerformed

    private void jTextFieldPsi3FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextFieldPsi3FocusLost
        // TODO add your handling code here:
        updatePsiBean();
    }//GEN-LAST:event_jTextFieldPsi3FocusLost

    private void jTextFieldPsi2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextFieldPsi2ActionPerformed
        // TODO add your handling code here:
        updatePsiBean();
    }//GEN-LAST:event_jTextFieldPsi2ActionPerformed

    private void jTextFieldPsi2FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextFieldPsi2FocusLost
        // TODO add your handling code here:
        updatePsiBean();
    }//GEN-LAST:event_jTextFieldPsi2FocusLost

    private void jTextFieldPsi1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextFieldPsi1ActionPerformed
        // TODO add your handling code here:
        updatePsiBean();
    }//GEN-LAST:event_jTextFieldPsi1ActionPerformed

    private void jTextFieldPsi1FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextFieldPsi1FocusLost
        // TODO add your handling code here:
        updatePsiBean();
    }//GEN-LAST:event_jTextFieldPsi1FocusLost

    private void jTextFieldPsi0ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextFieldPsi0ActionPerformed
        // TODO add your handling code here:
        updatePsiBean();
    }//GEN-LAST:event_jTextFieldPsi0ActionPerformed

    private void jTextFieldPsi0FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextFieldPsi0FocusLost
        // TODO add your handling code here:
        updatePsiBean();
    }//GEN-LAST:event_jTextFieldPsi0FocusLost

    private void jButtonOutputFolderPathActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonOutputFolderPathActionPerformed
        jFileChooserOutputFolderPath.setCurrentDirectory(pathCacheBean.getPathToLastDirectory());
        int result = jFileChooserOutputFolderPath.showOpenDialog(jPanelSolversEnvelope);
        File outputFolderPath = jFileChooserOutputFolderPath.getSelectedFile();
        if (outputFolderPath != null && result == JFileChooser.APPROVE_OPTION) {
            jTextFieldOutputFolderPath.setText(outputFolderPath.getAbsolutePath());
            orienteeringPropertiesBean.setOutputFolderPath(outputFolderPath.getAbsolutePath());
            updateWorkingDirectory(outputFolderPath);
        }
    }//GEN-LAST:event_jButtonOutputFolderPathActionPerformed

    private void jTextFieldOutputFolderPathActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextFieldOutputFolderPathActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextFieldOutputFolderPathActionPerformed

    private void jRadioButtonRelaxedActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jRadioButtonRelaxedActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jRadioButtonRelaxedActionPerformed

    private void jTextFieldTimeLimit1updatePsiBean(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextFieldTimeLimit1updatePsiBean
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextFieldTimeLimit1updatePsiBean

    private void jTextFieldTimeLimit1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextFieldTimeLimit1ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextFieldTimeLimit1ActionPerformed

    private void jTextFieldNumThreads1updatePsiBean(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextFieldNumThreads1updatePsiBean
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextFieldNumThreads1updatePsiBean

    private void jTextFieldOutputFolderPath1updatePsiBean(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextFieldOutputFolderPath1updatePsiBean
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextFieldOutputFolderPath1updatePsiBean

    private void jTextFieldOutputFolderPath1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextFieldOutputFolderPath1ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextFieldOutputFolderPath1ActionPerformed

    private void jCheckBoxForceHeuristicConstraints1updatePsiBeanC(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_jCheckBoxForceHeuristicConstraints1updatePsiBeanC
        // TODO add your handling code here:
    }//GEN-LAST:event_jCheckBoxForceHeuristicConstraints1updatePsiBeanC

    private void jButtonOutputFolderPath1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonOutputFolderPath1ActionPerformed
        // TODO add your handling code here:
        jFileChooserOutputFolderPath.setCurrentDirectory(pathCacheBean.getPathToLastDirectory());
        int result = jFileChooserOutputFolderPath.showOpenDialog(jPanelSolversEnvelope);
        File outputFolderPath = jFileChooserOutputFolderPath.getSelectedFile();
        if (outputFolderPath != null && result == JFileChooser.APPROVE_OPTION) {
            jTextFieldOutputFolderPath.setText(outputFolderPath.getAbsolutePath());
            orienteeringPropertiesBean.setOutputFolderPath(outputFolderPath.getAbsolutePath());
            updateWorkingDirectory(outputFolderPath);
        }
    }//GEN-LAST:event_jButtonOutputFolderPath1ActionPerformed

    private void jButtonErrorOkActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonErrorOkActionPerformed
        // TODO add your handling code here:
        jDialogError.setVisible(false);
    }//GEN-LAST:event_jButtonErrorOkActionPerformed

    private void jButtonRunALNSActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonRunALNSActionPerformed
        // TODO add your handling code here:
        runWithSolver(Controller.Solvers.SOLVE_ALNS);
    }//GEN-LAST:event_jButtonRunALNSActionPerformed

    private void jTextFieldOutputFolderPath2updatePsiBean(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextFieldOutputFolderPath2updatePsiBean
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextFieldOutputFolderPath2updatePsiBean

    private void jTextFieldOutputFolderPath2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextFieldOutputFolderPath2ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextFieldOutputFolderPath2ActionPerformed

    private void jTextFieldNumThreads2updatePsiBean(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextFieldNumThreads2updatePsiBean
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextFieldNumThreads2updatePsiBean

    private void jButtonOutputFolderPath2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonOutputFolderPath2ActionPerformed
        // TODO add your handling code here:
        jFileChooserOutputFolderPath.setCurrentDirectory(pathCacheBean.getPathToLastDirectory());
        int result = jFileChooserOutputFolderPath.showOpenDialog(jPanelSolversEnvelope);
        File outputFolderPath = jFileChooserOutputFolderPath.getSelectedFile();
        if (outputFolderPath != null && result == JFileChooser.APPROVE_OPTION) {
            jTextFieldOutputFolderPath.setText(outputFolderPath.getAbsolutePath());
            orienteeringPropertiesBean.setOutputFolderPath(outputFolderPath.getAbsolutePath());
            updateWorkingDirectory(outputFolderPath);
        }
    }//GEN-LAST:event_jButtonOutputFolderPath2ActionPerformed

    private void jButtonRunMIPSActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonRunMIPSActionPerformed
        // TODO add your handling code here:
        runWithSolver(Controller.Solvers.SOLVE_MIPS);
    }//GEN-LAST:event_jButtonRunMIPSActionPerformed

    private void jButtonRunRelaxedActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonRunRelaxedActionPerformed
        // TODO add your handling code here:
        runWithSolver(Controller.Solvers.SOLVE_RELAXED);
    }//GEN-LAST:event_jButtonRunRelaxedActionPerformed

    private void btnMoveInstanceDownActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnMoveInstanceDownActionPerformed
        // TODO add your handling code here:
        if (!jListInstances.isSelectionEmpty()) {
            int toMoveDn = jListInstances.getSelectedIndex();
            DefaultListModel dlm = new DefaultListModel();
            if (toMoveDn < jListInstances.getModel().getSize() - 1) {
                for (int i = 0; i < jListInstances.getModel().getSize(); i++) {
                    if (i == toMoveDn) {
                        String temp = jListInstances.getModel().getElementAt(i);
                        dlm.addElement(jListInstances.getModel().getElementAt(i + 1));
                        dlm.addElement(temp);
                        i++;
                    } else {
                        dlm.addElement(jListInstances.getModel().getElementAt(i));
                    }
                }
                jListInstances.setModel(dlm);
                jListInstances.setSelectedIndex(Math.min(toMoveDn + 1, dlm.size() - 1));
            }
        }
    }//GEN-LAST:event_btnMoveInstanceDownActionPerformed

    private void btnMoveInstanceUpActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnMoveInstanceUpActionPerformed
        // TODO add your handling code here:
        if (!jListInstances.isSelectionEmpty()) {
            int toMoveUp = jListInstances.getSelectedIndex();
            DefaultListModel dlm = new DefaultListModel();
            for (int i = 0; i < jListInstances.getModel().getSize(); i++) {
                if (i == toMoveUp - 1) {
                    String temp = jListInstances.getModel().getElementAt(i);
                    dlm.addElement(jListInstances.getModel().getElementAt(i + 1));
                    dlm.addElement(temp);
                    i++;
                } else {
                    dlm.addElement(jListInstances.getModel().getElementAt(i));
                }
            }
            jListInstances.setModel(dlm);
            jListInstances.setSelectedIndex(Math.max(toMoveUp - 1, 0));
        }
    }//GEN-LAST:event_btnMoveInstanceUpActionPerformed

    private void btnRemoveInstanceActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnRemoveInstanceActionPerformed
        // TODO add your handling code here:
        if (!jListInstances.isSelectionEmpty()) {
            int toRemove = jListInstances.getSelectedIndex();
            DefaultListModel dlm = new DefaultListModel();
            for (int i = 0; i < jListInstances.getModel().getSize(); i++) {
                if (i != toRemove) {
                    dlm.addElement(jListInstances.getModel().getElementAt(i));
                }
            }
            jListInstances.setModel(dlm);
        }
    }//GEN-LAST:event_btnRemoveInstanceActionPerformed

    private void btnAddInstanceActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnAddInstanceActionPerformed
        jFileChooserInstances.setCurrentDirectory(pathCacheBean.getPathToLastDirectory());
        int result = jFileChooserInstances.showOpenDialog(jPanelMain);
        if(JFileChooser.APPROVE_OPTION == result){
            File[] selected = jFileChooserInstances.getSelectedFiles();
            DefaultListModel dlm = new DefaultListModel();
            for (int i = 0; i < jListInstances.getModel().getSize(); i++) {
                dlm.addElement(jListInstances.getModel().getElementAt(i));
            }
            for (File f : selected) {
                String path = f.getAbsolutePath();
                dlm.addElement(path);
            }

            jListInstances.setModel(dlm);
        }

        if(jFileChooserInstances.getSelectedFiles().length != 0){
            updateWorkingDirectory(jFileChooserInstances.getSelectedFiles()[0].toPath().getParent().toFile());
        }
    }//GEN-LAST:event_btnAddInstanceActionPerformed

    private void jButtonSaveParametersMIPSActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonSaveParametersMIPSActionPerformed
        // TODO add your handling code here:
        saveParameters();
    }//GEN-LAST:event_jButtonSaveParametersMIPSActionPerformed

    private void jButtonSaveParametersALNSActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonSaveParametersALNSActionPerformed
        // TODO add your handling code here:
        saveParameters();
    }//GEN-LAST:event_jButtonSaveParametersALNSActionPerformed

    private void jButtonLoadParametersALNSActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonLoadParametersALNSActionPerformed
        // TODO add your handling code here:
        loadParameters();
    }//GEN-LAST:event_jButtonLoadParametersALNSActionPerformed

    private void jButtonLoadParametersMIPSActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonLoadParametersMIPSActionPerformed
        // TODO add your handling code here:
        loadParameters();
    }//GEN-LAST:event_jButtonLoadParametersMIPSActionPerformed

    private void jButtonYesStopActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonYesStopActionPerformed
        // TODO add your handling code here:
        // Kill the controller thread and triggers the garbage collector
        if (controllerTask != null) {
            controllerTask.cancel(true);
            controllerTask = null;
            System.gc();
        }
        
        enableControlPanel(true);

        // Update the status text
        updateStatusLabel("Stopped.");
        
        // Close the modal dialog
        jDialogConfirmStop.setVisible(false);
    }//GEN-LAST:event_jButtonYesStopActionPerformed
    
    /**
     * Update the cached path to the working directory to the specified one, if
     * it isn't null. 
     * @param newWorkingDirectory path to the new working directory
     */
    private void updateWorkingDirectory(File newWorkingDirectory){
        if(newWorkingDirectory != null){
            pathCacheBean.setPathToLastDirectory(newWorkingDirectory);
        }
    }
    
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(MainWindow.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(MainWindow.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(MainWindow.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(MainWindow.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                MainWindow mw = new MainWindow();
                // Set the title
                mw.setTitle("CTOWSS Solver v1.5 (GUI mode)");

                // Make the window appear
                mw.setVisible(true);

                // Make tooltips appear faster and last longer
                ToolTipManager.sharedInstance().setInitialDelay(250);
                ToolTipManager.sharedInstance().setDismissDelay(15000);
            }
        });
    }
    
    /**
     * Updates the status bar (label+progress bar).
     * @param osm the optimization status message to display.
     */
    public void updateSolverStatusIndicators(
            OptimizationStatusMessage osm
    ){
        if(osm != null){
            this.jLabelBestObj.setText(String.valueOf(osm.getBestObj()));
            
            switch(osm.getStatus()){
                case STARTING:
                    this.updateSolverStatusTemporary("Starting. Please wait...");
                    break;
                    
                case RUNNING:
                    this.jProgressBar1.setIndeterminate(false);
                    this.jLabelStatus.setText("Working. Solving instance '"+osm.getInstancePath()
                            +"', batch status: "+osm.getInstanceNumber()+"/"+osm.getBatchSize()+" completed.");
                    this.jProgressBar1.setValue(osm.getProgress());
                    break;
                    
                case STOPPING:
                    this.updateSolverStatusTemporary("Stopping. Please wait...");
                    break;
                    
                case STOPPED:
                    this.jProgressBar1.setIndeterminate(false);
                    this.jLabelStatus.setText("Stopped while solving instance '"+osm.getInstancePath()
                            +"', batch status: "+osm.getInstanceNumber()+"/"+osm.getBatchSize()+" completed. Ready.");
                    this.jProgressBar1.setValue(osm.getProgress());
                    // Re-enable the control panel
                    this.enableControlPanel(true);
                    break;
                    
                case DONE:
                    this.jProgressBar1.setIndeterminate(false);
                    // Update the status label
                    updateStatusLabel("Done! Ready.");
                    
                    // Update the progress bar
                    this.jProgressBar1.setValue(100);

                    // Re-enable the control panel
                    this.enableControlPanel(true);
                    break;
            }
        }
        else this.updateSolverStatusTemporary("Please wait...");
        
        jLabelStatus.setToolTipText(jLabelStatus.getText());
    }
    
    /**
     * Sets the progress bar in an indeterminate state and publishes a message
     * in the status bar.
     * @param message 
     */
    public void updateSolverStatusTemporary(String message){
        this.jLabelStatus.setText(message);
        this.jProgressBar1.setIndeterminate(true);
    }
    
    /**
     * Enables or disables the control panel in this GUI
     * @param enabled flag to be set
     */
    private void enableControlPanel(boolean enabled){
        if(enabled){
            // Enable all control windows
            enableComponents(jPanelControls, true);
            // Disable the stop button
            jButtonStop.setEnabled(false);
            // Enable the reset and save output buttons
            jButtonReset.setEnabled(true);
            //jButtonSaveOutput.setEnabled(true);
        }
        else {
            // Disable all control windows
            enableComponents(jPanelControls, false);
            // Enable the stop button
            jButtonStop.setEnabled(true);
            // Disable the reset and save output buttons
            jButtonReset.setEnabled(false);
            //jButtonSaveOutput.setEnabled(false);
        }
    }
    
    /**
     * @param args the command line arguments
     */
    public void openWindow(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(MainWindow.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(MainWindow.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(MainWindow.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(MainWindow.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        this.setTitle("ALNS Solver v1.0 (GUI mode)");
        this.setVisible(true);
        ToolTipManager.sharedInstance().setInitialDelay(250);
        ToolTipManager.sharedInstance().setDismissDelay(15000);
    }

    /**
     * Sets the "enabled" flag of every component in the specified container
     *
     * @param container the parent container to start setting the enabled flag
     * from
     * @param enable the enable flag to set
     */
    public void enableComponents(Container container, boolean enable) {
        Component[] components = container.getComponents();
        for (Component component : components) {
            component.setEnabled(enable);
            if (component instanceof Container) {
                enableComponents((Container) component, enable);
            }
        }
    }

    /**
     * Updates all values of psi in the GUI
     */
    private void updatePsiGui() {
        jTextFieldPsi0.setText(parametersBean.getALNSproperties().getHeuristicScores()[0] + "");
        jTextFieldPsi1.setText(parametersBean.getALNSproperties().getHeuristicScores()[1] + "");
        jTextFieldPsi2.setText(parametersBean.getALNSproperties().getHeuristicScores()[2] + "");
        jTextFieldPsi3.setText(parametersBean.getALNSproperties().getHeuristicScores()[3] + "");
        jTextFieldPsi0.updateUI();
        jTextFieldPsi1.updateUI();
        jTextFieldPsi2.updateUI();
        jTextFieldPsi3.updateUI();
    }

    /**
     * This method updates the values of psi in the ALNS properties bean, using
     * the values written in the psi text fields.
     */
    private void updatePsiBean() {
        double[] toSet = new double[ALNSPropertiesBean.NUMBER_OF_VALUES_FOR_HEURISTIC_SCORES];
        toSet[0] = Double.parseDouble(jTextFieldPsi0.getText());
        toSet[1] = Double.parseDouble(jTextFieldPsi1.getText());
        toSet[2] = Double.parseDouble(jTextFieldPsi2.getText());
        toSet[3] = Double.parseDouble(jTextFieldPsi3.getText());
        parametersBean.getALNSproperties().setHeuristicScores(toSet);
    }

    /**
     * This method updates jTextAreaOutput with the output from the optimization
     * algorithms
     *
     * @param text the text to put in jTextAreaOutput
     */
    private void updateTextArea(final String text) {
        SwingUtilities.invokeLater(new Runnable() {
            public void run() {
                jTextAreaOutput.append(text);
            }
        });
    }

    // These two allow me to get the outputstream and give it to other classes
    private OutputStream textAreaOutputStream;

    public OutputStream getTextAreaOutputStream() {
        return textAreaOutputStream;
    }

    /**
     * Redirects System Streams to jTextAreaOutput
     */
    private void redirectSystemStreams() {
        OutputStream out = new OutputStream() {
            @Override
            public void write(int b) throws IOException {
                updateTextArea(String.valueOf((char) b));
            }

            @Override
            public void write(byte[] b, int off, int len) throws IOException {
                updateTextArea(new String(b, off, len));
            }

            @Override
            public void write(byte[] b) throws IOException {
                write(b, 0, b.length);
            }
        };

        System.setOut(new PrintStream(out, true));
        System.setErr(new PrintStream(out, true));
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private solverController.ALNSPropertiesBean alnsPropertiesBean;
    private javax.swing.JButton btnAddInstance;
    private javax.swing.JButton btnMoveInstanceDown;
    private javax.swing.JButton btnMoveInstanceUp;
    private javax.swing.JButton btnRemoveInstance;
    private javax.swing.ButtonGroup buttonGroupActions;
    private javax.swing.ButtonGroup buttonGroupInstance;
    private javax.swing.ButtonGroup buttonGroupSolver;
    private solverView.DoubleConverter doubleConverter1;
    private javax.swing.Box.Filler filler1;
    private javax.swing.Box.Filler filler3;
    private javax.swing.Box.Filler filler4;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButtonErrorOk;
    private javax.swing.JButton jButtonLoadParameters;
    private javax.swing.JButton jButtonLoadParametersALNS;
    private javax.swing.JButton jButtonLoadParametersMIPS;
    private javax.swing.JButton jButtonNoStop;
    private javax.swing.JButton jButtonOutputFolderPath;
    private javax.swing.JButton jButtonOutputFolderPath1;
    private javax.swing.JButton jButtonOutputFolderPath2;
    private javax.swing.JButton jButtonReset;
    private javax.swing.JButton jButtonRun;
    private javax.swing.JButton jButtonRunALNS;
    private javax.swing.JButton jButtonRunMIPS;
    private javax.swing.JButton jButtonRunRelaxed;
    private javax.swing.JButton jButtonSaveParameters;
    private javax.swing.JButton jButtonSaveParametersALNS;
    private javax.swing.JButton jButtonSaveParametersMIPS;
    private javax.swing.JButton jButtonStop;
    private javax.swing.JButton jButtonTestBean;
    private javax.swing.JButton jButtonYesStop;
    private javax.swing.JCheckBox jCheckBoxDestroyCloseToBarycenter;
    private javax.swing.JCheckBox jCheckBoxDestroyGreedyBestInsertion;
    private javax.swing.JCheckBox jCheckBoxDestroyGreedyCostInsertion;
    private javax.swing.JCheckBox jCheckBoxDestroyGreedyProfitInsertion;
    private javax.swing.JCheckBox jCheckBoxDestroyRandomInsertion;
    private javax.swing.JCheckBox jCheckBoxForceHeuristicConstraints1;
    private javax.swing.JCheckBox jCheckBoxRepairHighCostRemoval;
    private javax.swing.JCheckBox jCheckBoxRepairRandomRemoval;
    private javax.swing.JCheckBox jCheckBoxRepairTravelTime;
    private javax.swing.JCheckBox jCheckBoxRepairVehicleTime;
    private javax.swing.JCheckBox jCheckBoxRepairWorstRemoval;
    private javax.swing.JDialog jDialogConfirmStop;
    private javax.swing.JDialog jDialogDeprecatedOptions;
    private javax.swing.JDialog jDialogError;
    private javax.swing.JFileChooser jFileChooserInstances;
    private javax.swing.JFileChooser jFileChooserLoadParameters;
    private javax.swing.JFileChooser jFileChooserOutputFolderPath;
    private javax.swing.JFileChooser jFileChooserSaveOutput;
    private javax.swing.JFileChooser jFileChooserSaveParameters;
    private javax.swing.JFileChooser jFileChooserWorkingDirectory;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel22;
    private javax.swing.JLabel jLabel23;
    private javax.swing.JLabel jLabel24;
    private javax.swing.JLabel jLabel25;
    private javax.swing.JLabel jLabel26;
    private javax.swing.JLabel jLabel27;
    private javax.swing.JLabel jLabel28;
    private javax.swing.JLabel jLabel29;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JLabel jLabelBestObj;
    private javax.swing.JLabel jLabelErrorIcon;
    private javax.swing.JLabel jLabelErrorMessage;
    private javax.swing.JLabel jLabelOutputFolderPath;
    private javax.swing.JLabel jLabelOutputFolderPath1;
    private javax.swing.JLabel jLabelOutputFolderPath2;
    private javax.swing.JLabel jLabelStatus;
    private javax.swing.JList<String> jListInstances;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JPanel jPanelALNS;
    private javax.swing.JPanel jPanelALNSActions;
    private javax.swing.JPanel jPanelALNSGeneralParams;
    private javax.swing.JPanel jPanelALNSParameters;
    private javax.swing.JPanel jPanelActions;
    private javax.swing.JPanel jPanelControls;
    private javax.swing.JPanel jPanelDestroyHeuristics;
    private javax.swing.JPanel jPanelInstancesButtons;
    private javax.swing.JPanel jPanelMIPS;
    private javax.swing.JPanel jPanelMIPSActions;
    private javax.swing.JPanel jPanelMIPSParameters;
    private javax.swing.JPanel jPanelMain;
    private javax.swing.JPanel jPanelOutput;
    private javax.swing.JPanel jPanelPsi;
    private javax.swing.JPanel jPanelRelaxed;
    private javax.swing.JPanel jPanelRelaxedActions;
    private javax.swing.JPanel jPanelRelaxedParameters;
    private javax.swing.JPanel jPanelRepairHeuristics;
    private javax.swing.JPanel jPanelSBBottom;
    private javax.swing.JPanel jPanelSBTop;
    private javax.swing.JPanel jPanelSolver;
    private javax.swing.JPanel jPanelSolversEnvelope;
    private javax.swing.JPanel jPanelStatusBar;
    private javax.swing.JPanel jPanelnstances;
    private javax.swing.JProgressBar jProgressBar1;
    private javax.swing.JRadioButton jRadioButtonALNS;
    private javax.swing.JRadioButton jRadioButtonMIPS;
    private javax.swing.JRadioButton jRadioButtonRelaxed;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPaneALNS;
    private javax.swing.JScrollPane jScrollPaneIMIPS;
    private javax.swing.JScrollPane jScrollPaneTextAreaOutput;
    private javax.swing.JSplitPane jSplitPane1;
    private javax.swing.JSplitPane jSplitPane2;
    private javax.swing.JTabbedPane jTabbedPaneSolvers;
    private javax.swing.JTextArea jTextAreaOutput;
    private javax.swing.JTextField jTextField19;
    private javax.swing.JTextField jTextFieldAlpha;
    private javax.swing.JTextField jTextFieldCooldownGamma;
    private javax.swing.JTextField jTextFieldLambda;
    private javax.swing.JTextField jTextFieldMaxIterationsWithoutImprovement;
    private javax.swing.JTextField jTextFieldMaxMIPSNodesForFeasibilityCheck;
    private javax.swing.JTextField jTextFieldMaxSegments;
    private javax.swing.JTextField jTextFieldMaxSegmentsWithoutImprovement;
    private javax.swing.JTextField jTextFieldNerfBarrier;
    private javax.swing.JTextField jTextFieldNumThreads1;
    private javax.swing.JTextField jTextFieldNumThreads2;
    private javax.swing.JTextField jTextFieldOutputFolderPath;
    private javax.swing.JTextField jTextFieldOutputFolderPath1;
    private javax.swing.JTextField jTextFieldOutputFolderPath2;
    private javax.swing.JTextField jTextFieldPsi0;
    private javax.swing.JTextField jTextFieldPsi1;
    private javax.swing.JTextField jTextFieldPsi2;
    private javax.swing.JTextField jTextFieldPsi3;
    private javax.swing.JTextField jTextFieldPunishmentForWorstSegmentHeuristics;
    private javax.swing.JTextField jTextFieldPunishmentGamma;
    private javax.swing.JTextField jTextFieldQDelta;
    private javax.swing.JTextField jTextFieldQStart;
    private javax.swing.JTextField jTextFieldRewardForBestSegmentHeuristics;
    private javax.swing.JTextField jTextFieldSegmentSize;
    private javax.swing.JTextField jTextFieldTimeLimit1;
    private javax.swing.JTextField jTextFieldTimeLimitALNS;
    private javax.swing.JTextField jTextFieldTimeLimitLocalSearch;
    private javax.swing.JTextField jTextFieldWarmupGamma;
    private solverController.OrienteeringPropertiesBean orienteeringPropertiesBean;
    private solverController.ParametersBean parametersBean;
    private solverView.PathCacheBean pathCacheBean;
    private org.jdesktop.beansbinding.BindingGroup bindingGroup;
    // End of variables declaration//GEN-END:variables

    /**
     * Updates the text in the status bar.
     *
     * @param statusText
     */
    private void updateStatusLabel(String statusText) {
        jLabelStatus.setText(statusText);
        jLabelStatus.updateUI();
    }

    /**
     * Updates the parameters bean with the latest version of the parameters in
     * alnsPropertiesBean and orienteeringPropertiesBean (taken from the GUI). 
     * Necessary before parameter visualization/serialization.
     */
    private void updateParametersBean() {
        /* TEMP: UNCOMMENT LATER
        orienteeringPropertiesBean.setForceHeuristicConstraints(jCheckBoxForceHeuristicConstraints.isSelected());
        orienteeringPropertiesBean.setNumThreads(Integer.valueOf(jTextFieldNumThreads.getText()));
        orienteeringPropertiesBean.setOutputFolderPath(jTextFieldOutputFolderPath.getText());
        orienteeringPropertiesBean.setTimeLimit(Double.valueOf(jTextFieldTimeLimit.getText()));
        
        alnsPropertiesBean.setAlpha(Double.valueOf(jTextFieldAlpha.getText()));
        alnsPropertiesBean.setCooldownGamma(Double.valueOf(jTextFieldCooldownGamma.getText()));
        updatePsiBean();
        alnsPropertiesBean.setLambda(Double.valueOf(jTextFieldLambda.getText()));
        //alnsPropertiesBean.setMaxHistorySize(Double.valueOf(jTextFieldMaxHistorySize.getText()));
        alnsPropertiesBean.setMaxIterationsWithoutImprovement(Integer.valueOf(jTextFieldMaxIterationsWithoutImprovement.getText()));
        alnsPropertiesBean.setMaxMIPSNodesForFeasibilityCheck(Double.valueOf(jTextFieldMaxMIPSNodesForFeasibilityCheck.getText()));
        alnsPropertiesBean.setMaxSegments(Long.valueOf(jTextFieldMaxSegments.getText()));
        alnsPropertiesBean.setMaxSegmentsWithoutImprovement(Long.valueOf(jTextFieldMaxSegmentsWithoutImprovement.getText()));
        alnsPropertiesBean.setPunishmentForWorstSegmentHeuristics(Double.valueOf(jTextFieldPunishmentForWorstSegmentHeuristics.getText()));
        alnsPropertiesBean.setPunishmentGamma(Double.valueOf(jTextFieldPunishmentGamma.getText()));
        alnsPropertiesBean.setRewardForBestSegmentHeuristics(Double.valueOf(jTextFieldRewardForBestSegmentHeuristics.getText()));
        alnsPropertiesBean.setSegmentSize(Integer.valueOf(jTextFieldSegmentSize.getText()));
        alnsPropertiesBean.setTimeLimitALNS(Long.valueOf(jTextFieldTimeLimitALNS.getText()));
        alnsPropertiesBean.setTimeLimitLocalSearch(Long.valueOf(jTextFieldTimeLimitLocalSearch.getText()));
        alnsPropertiesBean.setWarmupGamma(Double.valueOf(jTextFieldWarmupGamma.getText()));
        alnsPropertiesBean.setqDelta(Integer.valueOf(jTextFieldQDelta.getText()));
        alnsPropertiesBean.setqStart(Integer.valueOf(jTextFieldQStart.getText()));
        alnsPropertiesBean.setNerfBarrier(Double.valueOf(jTextFieldNerfBarrier.getText()));
        
        alnsPropertiesBean.setUseDestroyCloseToBarycenter(jCheckBoxDestroyCloseToBarycenter.isSelected());
        alnsPropertiesBean.setUseDestroyGreedyBestInsertion(jCheckBoxDestroyGreedyBestInsertion.isSelected());
        alnsPropertiesBean.setUseDestroyGreedyCostInsertion(jCheckBoxDestroyGreedyCostInsertion.isSelected());
        alnsPropertiesBean.setUseDestroyGreedyProfitInsertion(jCheckBoxDestroyGreedyProfitInsertion.isSelected());
        alnsPropertiesBean.setUseDestroyRandomInsertion(jCheckBoxDestroyRandomInsertion.isSelected());
        
        alnsPropertiesBean.setUseRepairHighCostRemoval(jCheckBoxRepairHighCostRemoval.isSelected());
        alnsPropertiesBean.setUseRepairRandomRemoval(jCheckBoxRepairRandomRemoval.isSelected());
        alnsPropertiesBean.setUseRepairTravelTime(jCheckBoxRepairTravelTime.isSelected());
        alnsPropertiesBean.setUseRepairVehicleTime(jCheckBoxRepairVehicleTime.isSelected());
        alnsPropertiesBean.setUseRepairWorstRemoval(jCheckBoxRepairWorstRemoval.isSelected());
        
        parametersBean = new ParametersBean(orienteeringPropertiesBean, alnsPropertiesBean);
        
        TEMP */
    }
    
    /**
     * Updates every GUI field from orienteeringPropertiesBean and alnsPropertiesBean
     */
    private void updateParametersGUI() {
        /*
        // orienteering
        jTextFieldOutputFolderPath.setText(orienteeringPropertiesBean.getOutputFolderPath());
        jTextFieldTimeLimit.setText(String.valueOf(orienteeringPropertiesBean.getTimeLimit()));
        jTextFieldNumThreads.setText(String.valueOf(orienteeringPropertiesBean.getNumThreads()));
        jCheckBoxForceHeuristicConstraints.setSelected(orienteeringPropertiesBean.isForceHeuristicConstraints());
        
        //alns
        //jTextFieldMaxHistorySize.setText(alnsPropertiesBean.getMaxHistorySize());
        jTextFieldQStart.setText(String.valueOf(alnsPropertiesBean.getqStart()));
        jTextFieldQDelta.setText(String.valueOf(alnsPropertiesBean.getqDelta()));
        jTextFieldSegmentSize.setText(String.valueOf(alnsPropertiesBean.getSegmentSize()));
        jTextFieldMaxSegments.setText(String.valueOf(alnsPropertiesBean.getMaxSegments()));
        jTextFieldMaxSegmentsWithoutImprovement.setText(String.valueOf(alnsPropertiesBean.getMaxSegmentsWithoutImprovement()));
        
        jCheckBoxDestroyCloseToBarycenter.setSelected(alnsPropertiesBean.isUseDestroyCloseToBarycenter());
        jCheckBoxDestroyGreedyCostInsertion.setSelected(alnsPropertiesBean.isUseDestroyGreedyCostInsertion());
        jCheckBoxDestroyGreedyBestInsertion.setSelected(alnsPropertiesBean.isUseDestroyGreedyBestInsertion());
        jCheckBoxDestroyGreedyProfitInsertion.setSelected(alnsPropertiesBean.isUseDestroyGreedyProfitInsertion());
        jCheckBoxDestroyRandomInsertion.setSelected(alnsPropertiesBean.isUseDestroyRandomInsertion());
        
        jCheckBoxRepairHighCostRemoval.setSelected(alnsPropertiesBean.isUseRepairHighCostRemoval());
        jCheckBoxRepairRandomRemoval.setSelected(alnsPropertiesBean.isUseRepairRandomRemoval());
        jCheckBoxRepairTravelTime.setSelected(alnsPropertiesBean.isUseRepairTravelTime());
        jCheckBoxRepairVehicleTime.setSelected(alnsPropertiesBean.isUseRepairVehicleTime());
        jCheckBoxRepairWorstRemoval.setSelected(alnsPropertiesBean.isUseRepairWorstRemoval());
        
        jTextFieldLambda.setText(String.valueOf(alnsPropertiesBean.getLambda()));
        jTextFieldAlpha.setText(String.valueOf(alnsPropertiesBean.getAlpha()));
        jTextFieldPunishmentGamma.setText(String.valueOf(alnsPropertiesBean.getPunishmentGamma()));
        jTextFieldCooldownGamma.setText(String.valueOf(alnsPropertiesBean.getCooldownGamma()));
        jTextFieldWarmupGamma.setText(String.valueOf(alnsPropertiesBean.getWarmupGamma()));
        jTextFieldNerfBarrier.setText(String.valueOf(alnsPropertiesBean.getNerfBarrier()));
        jTextFieldTimeLimitALNS.setText(String.valueOf(alnsPropertiesBean.getTimeLimitALNS()));
        jTextFieldTimeLimitLocalSearch.setText(String.valueOf(alnsPropertiesBean.getTimeLimitLocalSearch()));
        jTextFieldRewardForBestSegmentHeuristics.setText(String.valueOf(alnsPropertiesBean.getRewardForBestSegmentHeuristics()));
        jTextFieldPunishmentForWorstSegmentHeuristics.setText(String.valueOf(alnsPropertiesBean.getPunishmentForWorstSegmentHeuristics()));
        jTextFieldMaxMIPSNodesForFeasibilityCheck.setText(String.valueOf(alnsPropertiesBean.getMaxMIPSNodesForFeasibilityCheck()));
        
        jTextFieldPsi0.setText(String.valueOf(alnsPropertiesBean.getHeuristicScores()[0]));
        jTextFieldPsi1.setText(String.valueOf(alnsPropertiesBean.getHeuristicScores()[1]));
        jTextFieldPsi2.setText(String.valueOf(alnsPropertiesBean.getHeuristicScores()[2]));
        jTextFieldPsi3.setText(String.valueOf(alnsPropertiesBean.getHeuristicScores()[3]));
        
        jTextFieldMaxIterationsWithoutImprovement.setText(String.valueOf(alnsPropertiesBean.getMaxIterationsWithoutImprovement()));
        */
        
    }
}
